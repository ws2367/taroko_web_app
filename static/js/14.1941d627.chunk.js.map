{"version":3,"sources":["routes/client/components/TagMultipleSelect.js","routes/client/components/Profile.js","routes/client/components/NoteDrawer.js","routes/client/components/NoteList.js","routes/client/components/Client.js","routes/client/components/StatBoxes1.js","routes/client/components/EnhancedTableElements.js","routes/client/components/ClientDrawer.js","routes/client/components/Tag.js","routes/client/components/ClientList.js","routes/client/index.js"],"names":["MenuProps","PaperProps","style","maxHeight","ITEM_HEIGHT","width","TagMultipleSelect_MultipleSelect","MultipleSelect","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","getTagName","id","tagOptions","find","tag","name","handleDelete","tagId","newTags","state","tags","filter","n","setState","onChange","target","value","handleChange","event","console","log","_this2","_this$props","classes","theme","title","react_default","a","createElement","className","root","FormControl_default","formControl","InputLabel_default","htmlFor","Select_default","multiple","input","Input_default","renderValue","selected","chips","map","Chip_default","key","label","chip","onDelete","MenuItem_default","fontWeight","undefined","indexOf","typography","fontWeightRegular","fontWeightMedium","Component","components_TagMultipleSelect","Object","styles","display","flexWrap","margin","spacing","unit","minWidth","maxWidth","withTheme","Profile_Loader","Profile_styles","container","textField","marginLeft","marginRight","longTextField","menu","leftIcon","Profile_AbstractTextFields","AbstractTextFields","Profile_classCallCheck","Profile_possibleConstructorReturn","Profile_getPrototypeOf","handleDateChange","date","profile","_defineProperty","fetch","method","mode","headers","Auth","body","JSON","stringify","then","res","json","result","handlers","updateClientName","Profile_BasicInfoTextFields","config","react","noValidate","autoComplete","TextField_default","required","type","birthday","Button_default","variant","color","Add_default","email","company","address","select","String","income","SelectProps","helperText","keys","k","source","Profile_InsuranceInfoTextFields","_this$props2","is_insured","insurance_companies","insurances_of_interest","Profile_FinancialPlanTextFields","_this$props3","multiline","InputLabelProps","shrink","fullWidth","financial_plan","Profile_FamilyInfoTextFields","_this$props4","clientOptions","marital_status","related_clients","Profile_AppendixTextFields","_this$props5","appendix","StyledBasicInfoTextFields","StyledInsuranceInfoTextFields","StyledFinancialPlanTextFields","StyledFamilyInfoTextFields","StyledAppendixTextFields","components_Profile","Profile","fetchClient","clientId","client","clients","isLoaded","c","error","_this$state","LoadedProfile","core_index_es","justify","NoteDrawer_QuoteNoteFields","_ref","note","Fragment","Typography_default","gutterBottom","additional_data","sent_time","sent_content","NoteDrawer_CommonNoteFields","_ref2","location","NoteDrawer_ClaimNoteFields","_ref3","claim_time","claim_content","NoteDrawer_SigningNoteFields","_ref4","signed_time","signed_content","NoteDrawer_GenericNoteFields","_ref5","current_insurance","NoteDrawer_CustomNoteFields","_ref6","note_type","NoteDrawer_NoteDrawer","NoteDrawer_objectSpread","isAdditionalData","handleSave","handleSaveNote","preventDefault","handleDeleteNote","isOpen","handleClose","Drawer_default","anchor","open","onClose","divContainer","InputProps","fontSize","onClick","OutlinedButton","components_NoteDrawer","NoteList_CreateNoteButton","AnchorEl","handleClick","anchorEl","currentTarget","handleMenuItemClick","openDrawer","noteTypes","aria-controls","aria-haspopup","Menu_default","keepMounted","Boolean","noteTypeId","NoteList_NoteList","collectionEndpoint","_this3","notes","openNoteDrawer","selectedNote","0","1","2","3","4","fetchNotes","drawerKey","Math","random","handleNoteClick","noteId","url","ok","index","findIndex","t","splice","newNote","endpoint","Promise","resolve","reject","oldNote","NoteList_objectSpread","concat","_this4","Paper_default","List_default","ListItem_default","ListItemText_default","primary","Grid_default","inline","align","secondary","noWrap","ListItemSecondaryAction_default","IconButton_default","edge","aria-label","Visibility_default","components_NoteList","backgroundColor","palette","background","paper","heading","pxToRem","components_Client","Client","Client_classCallCheck","Client_possibleConstructorReturn","Client_getPrototypeOf","fetchTasks","tasks","handleTabChange","tabIndex","handleChangeIndex","pathname","replace","todos","NoteTab","es","TaskTab","TaskList","Tabs_default","Tab_default","lib_default","onChangeIndex","StatBoxes1","MaterialIcon","icon","columnData","numeric","disablePadding","EnhancedTableElements_EnhancedTableHead","createSortHandler","property","onRequestSort","onSelectAllClick","order","orderBy","numSelected","rowCount","TableHead_default","TableRow_default","TableCell_default","padding","Checkbox_default","indeterminate","checked","column","sortDirection","Tooltip_default","placement","enterDelay","TableSortLabel_default","active","direction","EnhancedTableElements_EnhancedTableToolbar","handleQueryChange","Toolbar_default","classnames_default","highlight","spacer","actions","Delete_default","FilterList_default","placeholder","startAdornment","InputAdornment_default","position","Search_default","paddingRight","main","colorManipulator","light","text","dark","flex","components_ClientDrawer","ClientDrawer","ClientDrawer_classCallCheck","ClientDrawer_possibleConstructorReturn","ClientDrawer_getPrototypeOf","createClient","toggleDrawer","_this$state2","toggleClientDrawer","components_Tag","i","ClientList_EnhancedTable","EnhancedTable","ClientList_classCallCheck","ClientList_possibleConstructorReturn","ClientList_getPrototypeOf","openClientDrawer","handleRequestSort","handleSelectAllClick","selectedIndex","newSelected","slice","length","clientSearchMatch","query","incomeConfig","note_summary","reduce","sum","toLowerCase","includes","unfilteredClients","handleChangePage","page","handleChangeRowsPerPage","rowsPerPage","isSelected","filteredClients","ClientList_objectSpread","removeTagFromClient","filterByTag","emptyRows","min","tableWrapper","Table_default","table","aria-labelledby","TableBody_default","sort","b","getSorting","hover","role","aria-checked","component","scope","Link","to","updated","height","colSpan","TablePagination_default","count","labelRowsPerPage","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage","EnhancedTable1","marginTop","overflowX","ClientList","withRouter","client_ClientsPage","ClientsPage","client_classCallCheck","client_possibleConstructorReturn","client_getPrototypeOf","history","push","match","Switch","Route","path"],"mappings":"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","file":"static/js/14.1941d627.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Select from '@material-ui/core/Select';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n    minWidth: 400,\n    maxWidth: '80%',\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: theme.spacing.unit / 4,\n  },\n});\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nclass MultipleSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: props.tags || []\n    };\n  }\n\n  getTagName = id => {\n    return this.props.tagOptions.find(tag => tag.id == id).name;\n  }\n\n  handleDelete = tagId => () => {\n    var newTags = this.state.tags.filter( n => n !== tagId );\n    this.setState({ tags: newTags });\n    this.props.onChange && this.props.onChange({target: {value: newTags }}); // first part is like an if.\n  }\n\n  handleChange = event => {\n    console.log(event.target);\n    this.setState({ tags: event.target.value });\n    this.props.onChange && this.props.onChange(event); // first part is like an if.\n  };\n\n  render() {\n    const { classes, theme, tagOptions, title } = this.props;\n    const {tags} = this.state;\n\n    return (\n      <div className={classes.root}>\n        <FormControl className={classes.formControl}>\n          <InputLabel htmlFor=\"select-multiple-chip\">{title}</InputLabel>\n          <Select\n            multiple\n            value={tags}\n            onChange={this.handleChange}\n            input={<Input id=\"select-multiple-chip\" />}\n            renderValue={selected => (\n              <div className={classes.chips}>\n                {selected.map(tagId => <Chip key={tagId} label={this.getTagName(tagId)} className={classes.chip} onDelete={this.handleDelete(tagId)} />)}\n              </div>\n            )}\n            MenuProps={MenuProps}\n          >\n            {tagOptions.map(tag => (\n              <MenuItem\n                key={tag.id}\n                value={tag.id}\n                style={{\n                  fontWeight:\n                    tags.indexOf(tag.id) === undefined\n                      ? theme.typography.fontWeightRegular\n                      : theme.typography.fontWeightMedium,\n                }}\n              >\n                {tag.name}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </div>\n    );\n  }\n}\n\n\nMultipleSelect.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nconst TagMultipleSelect = withStyles(styles, { withTheme: true })(MultipleSelect);\n\nexport default TagMultipleSelect;\n","import React, {Fragment, PureComponent} from 'react';\nimport QueueAnim from 'rc-queue-anim';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport { DatePicker } from 'material-ui-pickers';\nimport { Grid } from '@material-ui/core';\nimport TagMultipleSelect from './TagMultipleSelect.js';\nimport AddIcon from '@material-ui/icons/Add';\nimport Button from '@material-ui/core/Button';\nimport \"../../feedback/routes/loaders/components/loaders/loaders.scss\";\nimport {requestHeaders} from 'auth/Auth';\n\nconst Loader = () => (\n  <div className=\"ball-grid-pulse\">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n)\n\n\nconst styles = theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: '40%',\n  },\n  longTextField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: '90%',\n  },\n  menu: {\n    width: 200,\n  },\n  leftIcon: {\n    marginRight: theme.spacing.unit,\n  },\n});\n\nclass AbstractTextFields extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      profile: props.profile\n    };\n  }\n\n  handleDateChange = date => {\n    this.handleChange('birthday')({\n      event: {\n        target: {\n          value: date\n        }\n      }\n    });\n  };\n\n\n  handleChange = name => event => {\n    var value = event.target.value;\n    console.log(event.target);\n    this.setState( state => {\n      var p = state.profile;\n\n      return {\n        profile: {\n          ...p,\n          [name]: value\n        }\n      };\n    });\n\n    var profile = {\n      id: this.state.profile.id,\n      [name]: value\n    }\n    // one-way only. doesn't update React data\n    fetch(\"https://api.cooby.co/clients/\" + profile.id, {\n      \"method\": \"PUT\",\n      mode: 'cors',\n      headers: requestHeaders(),\n      body: JSON.stringify(profile)\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          console.log(result);\n    });\n\n    name == 'name' && this.props.handlers.updateClientName(value);\n  };\n}\n\nclass BasicInfoTextFields extends AbstractTextFields {\n\n\n  render() {\n    const { profile } = this.state;\n    const { classes, config } = this.props;\n\n    return (\n      <Fragment>\n      <form className={classes.container} noValidate autoComplete=\"off\">\n        <TextField\n          required\n          id=\"name\"\n          label=\"姓名\"\n          className={classes.textField}\n          value={profile.name}\n          onChange={this.handleChange('name')}\n          margin=\"normal\"\n        />\n        <div className=\"picker\">\n          <TextField\n            type='date'\n            label=\"生日\"\n            value={profile.birthday}\n            onChange={this.handleDateChange}\n            margin=\"normal\"\n          />\n        </div>\n        <TagMultipleSelect\n          title='標籤'\n          tags={profile.tags}\n          tagOptions={config.tags}\n          onChange={this.handleChange('tags')}\n          label=\"Tag\"\n        />\n\n        <Button variant=\"contained\" color=\"secondary\">\n          <AddIcon className={classes.leftIcon} />\n          新增標籤\n        </Button><div className=\"divider\" />\n        <TextField\n          id=\"email\"\n          label=\"Email\"\n          type=\"email\"\n          value={profile.email}\n          className={classes.textField}\n          onChange={this.handleChange('email')}\n          margin=\"normal\"\n        />\n        <TextField\n          id=\"cellphone\"\n          label=\"電話號碼\"\n          className={classes.textField}\n          onChange={this.handleChange('cell_phone')}\n          type=\"tel\"\n          margin=\"normal\"\n        />\n        <TextField\n          id=\"company\"\n          label=\"任職公司/職稱\"\n          value={profile.company}\n          className={classes.textField}\n          onChange={this.handleChange('company')}\n          margin=\"normal\"\n        />\n        <TextField\n          id=\"address\"\n          label=\"地址\"\n          value={profile.address}\n          className={classes.textField}\n          onChange={this.handleChange('address')}\n          margin=\"normal\"\n        />\n        <TextField\n          id=\"income\"\n          select\n          label=\"月收入\"\n          className={classes.textField}\n          value={String(profile.income)}\n          onChange={this.handleChange('income')}\n          SelectProps={{\n            MenuProps: {\n              className: classes.menu,\n            },\n          }}\n          helperText=\"請選擇收入\"\n          margin=\"normal\"\n        >\n          {Object.keys(config.income).map( k => (\n            <MenuItem key={k} value={k}>\n              {config.income[k]}\n            </MenuItem>\n          ))}\n        </TextField>\n        <TextField\n          id=\"source\"\n          select\n          label=\"認識方式\"\n          className={classes.textField}\n          value={String(profile.source)}\n          onChange={this.handleChange('source')}\n          SelectProps={{\n            MenuProps: {\n              className: classes.menu,\n            },\n          }}\n          helperText=\"請選擇認識方式\"\n          margin=\"normal\"\n        >\n          {Object.keys(config.source).map(k => (\n            <MenuItem key={k} value={k}>\n              {config.source[k]}\n            </MenuItem>\n          ))}\n        </TextField>\n      </form>\n      </Fragment>\n    );\n  }\n}\n\nclass InsuranceInfoTextFields extends AbstractTextFields {\n\n\n  render() {\n    const { profile } = this.state;\n    const { classes, config } = this.props;\n\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n        <TextField\n          select\n          id=\"is_insured\"\n          label=\"有保險？\"\n          className={classes.textField}\n          value={String(profile.is_insured)}\n          SelectProps={{\n            MenuProps: {\n              className: classes.menu,\n            },\n          }}\n          onChange={this.handleChange('is_insured')}\n          margin=\"normal\"\n        >\n          {Object.keys(config.is_insured).map( k => (\n            <MenuItem key={k} value={k}>\n              {config.is_insured[k]}\n            </MenuItem>\n          ))}\n        </TextField>\n        <TagMultipleSelect\n          id=\"insurance_companies\"\n          title='投保公司'\n          tags={profile.insurance_companies}\n          tagOptions={config.insurance_companies}\n          onChange={this.handleChange('insurance_companies')}\n          label=\"投保公司\"\n        />\n        <TagMultipleSelect\n          id=\"insurances_of_interest\"\n          title='有興趣保險種類'\n          tags={profile.insurances_of_interest}\n          tagOptions={config.insurances_of_interest}\n          onChange={this.handleChange('insurances_of_interest')}\n          label=\"有興趣保險種類\"\n        />\n      </form>\n    );\n  }\n}\n\n\n\nclass FinancialPlanTextFields extends AbstractTextFields {\n\n\n  render() {\n    const { classes, profile, config } = this.props;\n\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n        <TextField\n          multiline\n          InputLabelProps={{\n            shrink: true,\n          }}\n          fullWidth\n          id=\"financial_plan\"\n          value={profile.financial_plan}\n          onChange={this.handleChange('financial_plan')}\n          className={classes.longTextField}\n          margin=\"normal\"\n          variant='outlined'\n        />\n      </form>\n    );\n  }\n}\n\n\nclass FamilyInfoTextFields extends AbstractTextFields {\n\n\n  render() {\n    const { classes, config, clientOptions } = this.props;\n    const { profile } = this.state;\n\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n        <TextField\n          select\n          id=\"marital_status\"\n          label=\"婚姻狀況\"\n          value={String(profile.marital_status)}\n          className={classes.longTextField}\n          onChange={this.handleChange('marital_status')}\n          SelectProps={{\n            MenuProps: {\n              className: classes.menu,\n            },\n          }}\n          margin=\"normal\"\n        >\n          {Object.keys(config.marital_status).map(k => (\n            <MenuItem key={k} value={k}>\n              {config.marital_status[k]}\n            </MenuItem>\n          ))}\n        </TextField>\n        <TagMultipleSelect\n          title='延伸親友名單'\n          tags={profile.related_clients}\n          tagOptions={clientOptions}\n          onChange={this.handleChange('related_clients')}\n          label=\"related_clients\"\n        />\n      </form>\n    );\n  }\n}\n\n\nclass AppendixTextFields extends AbstractTextFields {\n  render() {\n    const { classes, config } = this.props;\n    const { profile } = this.state;\n\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n        <TextField\n          multiline\n          InputLabelProps={{\n            shrink: true,\n          }}\n          fullWidth\n          id=\"appendix\"\n          label=\"備註\"\n          variant='outlined'\n          value={profile.appendix}\n          className={classes.longTextField}\n          margin=\"normal\"\n        />\n      </form>\n    );\n  }\n}\n\n\nconst StyledBasicInfoTextFields = withStyles(styles)(BasicInfoTextFields);\nconst StyledInsuranceInfoTextFields = withStyles(styles)(InsuranceInfoTextFields);\nconst StyledFinancialPlanTextFields = withStyles(styles)(FinancialPlanTextFields);\nconst StyledFamilyInfoTextFields = withStyles(styles)(FamilyInfoTextFields);\nconst StyledAppendixTextFields = withStyles(styles)(AppendixTextFields);\n\n\n\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n\n    }\n  }\n\n  componentDidMount() {\n    this.fetchClient(this.props.clientId);\n  }\n\n  fetchClient = (clientId) => {\n    fetch(\"https://api.cooby.co/clients/\", {\n      \"method\": \"GET\",\n      mode: 'cors',\n      headers: requestHeaders()\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          let client = result.clients.filter( client => client.profile.id === clientId )[0];\n\n          this.setState({\n            isLoaded: true,\n            profile: client.profile,\n            clientOptions: result.clients.map(c => ({id: c.profile.id, name: c.profile.name} )),\n            config: result.config\n          });\n\n          //TODO: figure out how to update name without refreshing all components\n          // this.props.handlers.updateClientName(client.profile.name);\n        },\n        (error) => {\n          this.setState({\n            isLoaded: false,\n            error\n          });\n        });\n  };\n\n  render() {\n    const {isLoaded, profile, config, clientOptions} = this.state;\n    const { handlers } = this.props;\n\n    const LoadedProfile = () => (\n      <div className=\"container-fluid\">\n        <article className=\"article pt-3\">\n          <div className=\"row\">\n            <div className=\"col-xl-6\">\n              <div className=\"box box-default mb-3\">\n                <div className=\"box-header\">基本資料</div>\n                <div className=\"box-divider\"></div>\n                <div className=\"box-body\">\n                  <StyledBasicInfoTextFields profile={profile} config={config} handlers={handlers} />\n                </div>\n              </div>\n\n              <div className=\"box box-default mb-3\">\n                <div className=\"box-header\">保險狀況</div>\n                <div className=\"box-divider\"></div>\n                <div className=\"box-body\">\n                  <StyledInsuranceInfoTextFields profile={profile} config={config} handlers={handlers} />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"col-xl-6\">\n              <div className=\"box box-default mb-3\">\n                <div className=\"box-header\">財務規劃</div>\n                <div className=\"box-divider\"></div>\n                <div className=\"box-body\">\n                  <StyledFinancialPlanTextFields profile={profile} config={config} handlers={handlers} />\n                </div>\n              </div>\n\n              <div className=\"box box-default mb-3\">\n                <div className=\"box-header\">婚姻與家庭</div>\n                <div className=\"box-divider\"></div>\n                <div className=\"box-body\">\n                  <StyledFamilyInfoTextFields profile={profile} config={config} handlers={handlers} clientOptions={clientOptions} />\n                </div>\n              </div>\n\n              <div className=\"box box-default mb-3\">\n                <div className=\"box-header\">備註</div>\n                <div className=\"box-divider\"></div>\n                <div className=\"box-body\">\n                  <StyledAppendixTextFields profile={profile} config={config} handlers={handlers} />\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </article>\n      </div>\n    )\n\n    const ProfileWithLoader = () => {\n      if (isLoaded) {\n        return <LoadedProfile />\n      } else {\n        return (\n          <Grid container justify=\"center\">\n            <div className='m-10'>\n              <Loader />\n            </div>\n          </Grid>\n        )\n      }\n    };\n\n    return (<ProfileWithLoader />)\n  }\n}\n\n\nexport default Profile;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Drawer from '@material-ui/core/Drawer';\nimport OutlinedButton from 'components/OutlinedButton';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n  divContainer: {\n    width: '200px',\n    margin: '20px'\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    minWidth: 150,\n    width: '40%',\n  },\n  longTextField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    minWidth: 300,\n    width: '90%',\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  }\n});\n\n\nconst QuoteNoteFields = ({note, classes, handleChange}) => (\n  <>\n    <Typography variant=\"subheading\" gutterBottom>\n      遞送細節\n    </Typography>\n    <TextField\n      id=\"sent_time\"\n      label=\"遞送日期\"\n      type='date'\n      value={note.additional_data.sent_time}\n      className={classes.textField}\n      onChange={handleChange(true, 'sent_time')}\n      margin=\"normal\"\n    />\n    <TextField\n      id=\"sent_content\"\n      label=\"遞送內容\"\n      value={note.additional_data.sent_content}\n      className={classes.longTextField}\n      onChange={handleChange(true, 'sent_content')}\n      margin=\"normal\"\n    />\n  </>\n)\n\n\nconst CommonNoteFields = ({note, classes, handleChange}) => (\n  <>\n    <TextField\n      label=\"地點\"\n      className={classes.textField}\n      value={note.location}\n      onChange={handleChange(false, 'location')}\n      margin=\"normal\"\n    />\n    <TextField\n      required\n      id=\"date\"\n      label=\"日期\"\n      type='date'\n      value={note.date}\n      className={classes.textField}\n      onChange={handleChange(false, 'date')}\n      margin=\"normal\"\n    />\n    <TextField\n      id=\"appendix\"\n      label=\"備註\"\n      value={note.appendix}\n      variant='outlined'\n      className={classes.longTextField}\n      onChange={handleChange(false, 'appendix')}\n      margin=\"normal\"\n    />\n  </>\n)\n\n\nconst ClaimNoteFields = ({note, classes, handleChange}) => (\n  <>\n    <Typography variant=\"subheading\" gutterBottom>\n      理賠細節\n    </Typography>\n    <TextField\n      id=\"claim_time\"\n      label=\"理賠日期\"\n      type='date'\n      value={note.additional_data.claim_time}\n      className={classes.textField}\n      onChange={handleChange(true, 'claim_time')}\n      margin=\"normal\"\n    />\n    <TextField\n      id=\"claim_content\"\n      label=\"理賠內容\"\n      value={note.additional_data.claim_content}\n      className={classes.longTextField}\n      onChange={handleChange(true, 'claim_content')}\n      margin=\"normal\"\n    />\n  </>\n)\n\nconst SigningNoteFields = ({note, classes, handleChange}) => (\n  <>\n    <Typography variant=\"subheading\" gutterBottom>\n      簽約細節\n    </Typography>\n    <TextField\n      id=\"signed_time\"\n      label=\"簽約日期\"\n      type='date'\n      value={note.additional_data.signed_time}\n      className={classes.textField}\n      onChange={handleChange(true, 'signed_time')}\n      margin=\"normal\"\n    />\n    <TextField\n      id=\"signed_content\"\n      label=\"簽約內容\"\n      value={note.additional_data.signed_content}\n      className={classes.longTextField}\n      onChange={handleChange(true, 'signed_content')}\n      margin=\"normal\"\n    />\n  </>\n)\n\n\n\nconst GenericNoteFields = ({note, classes, handleChange}) => (\n  <TextField\n    id=\"current_insurance\"\n    label=\"保險狀況\"\n    value={note.additional_data.current_insurance}\n    className={classes.longTextField}\n    onChange={handleChange(true, 'current_insurance')}\n    margin=\"normal\"\n  />\n)\n\nconst CustomNoteFields = ({note, classes, handleChange}) => {\n  switch(String(note.note_type)) {\n    case \"1\":\n      return (<GenericNoteFields note={note} classes={classes} handleChange={handleChange} />)\n      break;\n    case \"2\":\n      return (<QuoteNoteFields note={note} classes={classes} handleChange={handleChange} />)\n      break;\n    case \"3\":\n      return (<SigningNoteFields note={note} classes={classes} handleChange={handleChange} />)\n      break;\n    case \"4\":\n      return (<ClaimNoteFields note={note} classes={classes} handleChange={handleChange} />)\n      break;\n    default:\n      // code block\n      return (<></>)\n  }\n}\n\n\n\n\n// Avoid derived state from props:\n// https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html#common-bugs-when-using-derived-state\nclass NoteDrawer extends React.Component {\n  // this needs to be deep copy!\n  state = { note: ({...this.props.note, additional_data: {...this.props.note.additional_data} } || {additional_data: {}}) };\n\n\n  handleChange = (isAdditionalData, name) => event => {\n    var note = this.state.note;\n\n    if (isAdditionalData) {\n      note.additional_data[name] = event.target.value;\n    } else {\n      note[name] = event.target.value;\n    }\n\n    this.setState({ note });\n  };\n\n  handleSave = event => {\n    this.props.handleSaveNote(this.state.note);\n  }\n\n\n  handleDelete = (event) => {\n    event.preventDefault();\n    this.props.handleDeleteNote(this.state.note.id);\n  }\n\n\n  render() {\n    const { note } = this.state;\n    const { mode, classes, isOpen, handleClose, config } = this.props;\n\n    return (\n      <Drawer anchor=\"right\" open={isOpen} onClose={handleClose}>\n          <div className={classes.divContainer}>\n          <Typography variant=\"title\" gutterBottom>\n            {mode === \"create\" ? \"新增會議記錄\" : \"編輯會議記錄\"}\n          </Typography>\n          <TextField\n            label=\"標題\"\n            className={classes.textField}\n            InputProps={{\n              classes: {\n                input: {fontSize: 50}\n              }\n            }}\n            value={note.title}\n            onChange={this.handleChange(false, 'title')}\n            margin=\"normal\"\n          />\n\n          <Typography variant=\"subheading\" gutterBottom>\n            {config.note_type[note.note_type]}\n          </Typography>\n\n            <form className={classes.container} noValidate>\n              <CommonNoteFields note={note} classes={classes} handleChange={this.handleChange} />\n              <CustomNoteFields note={note} classes={classes} handleChange={this.handleChange} />\n            </form>\n            <div className=\"divider\" />\n            {mode === \"edit\" &&\n              <Button color=\"primary\" onClick={this.handleDelete}>刪除</Button>\n            }\n            <OutlinedButton color=\"secondary\" className=\"btn-w-md\" onClick={handleClose}>取消</OutlinedButton>\n            <div className=\"divider\" />\n            <Button variant=\"contained\" color=\"primary\" className=\"btn-w-md\" onClick={this.handleSave}>\n              儲存</Button>\n          </div>\n      </Drawer>\n    )\n  };\n}\n\nNoteDrawer.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\n\nconst StyledNoteDrawer = withStyles(styles)(NoteDrawer);\n\nexport default StyledNoteDrawer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport Typography from '@material-ui/core/Typography';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport NoteDrawer from './NoteDrawer';\nimport {requestHeaders} from 'auth/Auth';\n\n\nconst styles = theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: '100%',\n  },\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  date: {\n    fontSize: theme.typography.pxToRem(13),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n});\n\n\n\nclass CreateNoteButton extends React.Component {\n  state = {\n    AnchorEl: null\n  }\n\n  handleClick = (event) => {\n    this.setState({anchorEl: event.currentTarget});\n  };\n\n  handleClose = () => {\n    this.setState({anchorEl: null});\n  };\n\n  handleMenuItemClick = (event) => {\n    this.setState({anchorEl: null});\n    this.props.openDrawer({note_type: event.target.value, additional_data: {}});\n  }\n\n  render() {\n    const { anchorEl } = this.state;\n    const { noteTypes } = this.props;\n    return(\n      <>\n        <Button\n          aria-controls=\"simple-menu\"\n          aria-haspopup=\"true\"\n          variant=\"contained\"\n          color=\"primary\"\n          className=\"btn-w-md\"\n          onClick={this.handleClick}>\n          新增會議紀錄\n        </Button>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={this.handleClose}\n        >\n          {Object.keys(noteTypes).map( noteTypeId => (\n            <MenuItem key={noteTypeId} value={noteTypeId} onClick={this.handleMenuItemClick}>\n              {noteTypes[noteTypeId]}\n            </MenuItem>\n          ))}\n        </Menu>\n\n      </>\n    )\n  }\n};\n\n\nclass NoteList extends React.Component {\n  collectionEndpoint = 'https://api.cooby.co/clients/' + this.props.clientId + '/notes/';\n\n  state = {\n    notes: [],\n    mode: 'create',\n    openNoteDrawer: false,\n    selectedNote: {additional_data: {}},\n    config: {note_type: {\n      \"0\":\"空白筆記\",\n      \"1\":\"一般筆記\",\n      \"2\":\"遞送建議書\",\n      \"3\":\"保險簽約\",\n      \"4\":\"保險理賠\"\n    }}\n  }\n\n  componentDidMount() {\n    this.fetchNotes();\n  }\n\n  fetchNotes = () => {\n    fetch(this.collectionEndpoint, {\n      \"method\": \"GET\",\n      mode: 'cors',\n      headers: requestHeaders()\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            notes: result.notes\n          });\n        },\n        (error) => {\n          this.setState({\n            error\n          });\n        }\n      )\n  };\n\n  openDrawer = (mode) => (selectedNote) => {\n    console.log(selectedNote);\n    console.log(mode);\n    this.setState({\n      openNoteDrawer: true,\n      selectedNote: selectedNote,\n      mode: mode,\n      drawerKey: selectedNote.id ? selectedNote.id : Math.random()\n    });\n  }\n\n  handleNoteClick = (selectedNote) => (event) => {\n    console.log(selectedNote);\n    this.openDrawer('edit')(selectedNote);\n  }\n\n  handleClose = () => {\n    this.setState({openNoteDrawer: false});\n  }\n\n  handleDeleteNote = (noteId) => {\n    let url = this.collectionEndpoint + noteId;\n    console.log(url);\n    fetch(url, {\n      \"method\": \"DELETE\",\n      mode: 'cors',\n      headers: requestHeaders(),\n      body: JSON.stringify({})\n    }).then(res => {\n      if (res.ok) {\n        let notes = this.state.notes;\n        let index = notes.findIndex(t => t.id === noteId);\n        notes.splice(index, 1);\n\n        this.setState({\n          notes: notes\n        });\n      } else {\n        res.json().then(error => {console.log(error)});\n        }\n      this.handleClose();\n      });\n  }\n\n  handleSaveNote = (newNote) => {\n    console.log(newNote);\n\n    let endpoint =\n      this.state.mode === \"edit\" ?\n      this.collectionEndpoint + newNote.id :\n      this.collectionEndpoint;\n\n    fetch(endpoint, {\n      method: ( this.state.mode === \"edit\" ? \"put\" : \"post\" ),\n      mode: 'cors',\n      headers: requestHeaders(),\n      body: JSON.stringify(newNote)\n    }).then(res => {\n      if (res.ok && this.state.mode === \"edit\") {\n        // put request returns empty string. can't call res.to_json()\n        console.log('edittttt');\n        return new Promise((resolve, reject) => {resolve({})} );\n      } else {\n        console.log('new!');\n        return res.json();\n      }\n    }).then(\n        (result) => {\n          console.log(result);\n          if (this.state.mode === \"edit\") {\n            // edit mode\n            var index = this.state.notes.findIndex(t => t.id === newNote.id);\n            if (index) {\n                var oldNote = this.state.notes[index];\n                var notes = this.state.notes;\n                notes[index] = {...oldNote, ...newNote};\n                this.setState({notes: notes});\n            }\n          } else {\n            // create mode\n            this.setState({\n              notes: this.state.notes.concat({\n                id: result.id,\n                ...newNote\n              })\n            });\n          }\n          this.handleClose();\n        },\n        (error) => {\n          console.log(error);\n          this.setState({ error });\n        }\n    );\n\n  };\n\n\n  render() {\n    const { notes, selectedNote, mode, openNoteDrawer, config, drawerKey } = this.state;\n    const { classes } = this.props;\n\n\n    return (\n      <Paper className={classes.root}>\n        <CreateNoteButton noteTypes={config.note_type} openDrawer={this.openDrawer('create')}  />\n\n          <NoteDrawer\n            key={drawerKey}\n            isOpen={openNoteDrawer}\n            mode={mode}\n            note={selectedNote}\n            handleClose={this.handleClose}\n            handleSaveNote={this.handleSaveNote}\n            handleDeleteNote={this.handleDeleteNote}\n            config={config} />\n              <List>\n              {\n                notes.map((note, index) => (\n                    <ListItem>\n                      <ListItemText\n                        key={note.id}\n                        primary={<Grid container justify=\"space-between\">\n                          <Typography\n                            inline\n                            align='left'\n                            color=\"textPrimary\"\n                            variant=\"body1\">\n                            {note.title}\n                          </Typography>\n                          <Typography\n                            inline\n                            align='right'\n                            variant='body1'\n                            color='textSecondary'>\n                            {note.date}\n                          </Typography>\n                        </Grid>}\n                        secondary={<Typography noWrap='true'>{note.appendix}</Typography>}\n                      />\n                      <ListItemSecondaryAction>\n                        <IconButton edge=\"end\" aria-label=\"view\" onClick={this.handleNoteClick(note)}>\n                          <VisibilityIcon />\n                        </IconButton>\n                      </ListItemSecondaryAction>\n                    </ListItem>\n                ))\n              }\n              </List>\n    </Paper>\n    );\n  }\n}\n\nNoteList.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst StyledNoteList = withStyles(styles)(NoteList);\n\nexport default StyledNoteList;\n","import React from 'react';\nimport QueueAnim from 'rc-queue-anim';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport SwipeableViews from 'react-swipeable-views';\nimport Profile from './Profile';\nimport NoteList from './NoteList';\nimport TaskList from '../../task/components/TaskList';\nimport {requestHeaders} from 'auth/Auth';\n\n\nclass Client extends React.Component {\n  constructor(props) {\n    super(props);\n    // get Client ID\n    let clientId = this.props.location.pathname.replace('/app/client/', '');\n\n    this.state = {\n      notes: [],\n      todos: [],\n      clientId: clientId,\n      name: null,\n      error: null,\n      isLoaded: false,\n      tabIndex: 0,\n      handlers: {updateClientName: this.updateClientName}\n    }\n  }\n\n  updateClientName = (name) => {\n    // only update client name\n    this.setState({name: name});\n  };\n\n\n  fetchTasks = () => {\n    fetch(\"https://api.cooby.co/clients/\" + this.state.clientId + \"/tasks/\", {\n      \"method\": \"GET\",\n      mode: 'cors',\n      headers: requestHeaders()\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            tasks: result.tasks\n          });\n        },\n        (error) => {\n          this.setState({\n            error\n          });\n        });\n  };\n\n\n  componentDidMount() {\n    this.fetchTasks();\n  }\n\n  handleTabChange = (event, value) => {\n    this.setState({ tabIndex: value });\n  };\n\n  handleChangeIndex = index => {\n    this.setState({ tabIndex: index });\n  };\n\n  render() {\n\n    const { clientId, name, tabIndex, isLoaded, handlers, notes } = this.state;\n\n\n    const NoteTab = () => (\n      <div className=\"container-fluid no-breadcrumb container-mw-md chapter\">\n        <article className=\"article\">\n          <QueueAnim type=\"bottom\" className=\"ui-animate\">\n            <div key=\"1\" className=\"mb-3\"> <NoteList clientId={clientId}/> </div>\n          </QueueAnim>\n        </article>\n      </div>\n    )\n\n    const TaskTab = () => (\n      <div className=\"container-fluid pt-3\">\n        <TaskList />\n      </div>\n    )\n\n    const ClientWithTabs = () => (\n      <section className=\"page-with-tabs\">\n        <QueueAnim type=\"bottom\" className=\"ui-animate\">\n          <div key=\"1\">\n            <div className=\"page-header-title\"> {name || \"未命名\"} </div>\n          </div>\n\n          <div key=\"2\">\n            <Tabs value={tabIndex} onChange={this.handleTabChange} className=\"page-tabs\">\n              <Tab label=\"基本資料\" />\n              <Tab label=\"會議記錄\" />\n              <Tab label=\"待辦事項\" />\n            </Tabs>\n            <SwipeableViews\n              index={tabIndex}\n              onChangeIndex={this.handleChangeIndex}\n            >\n              <Profile\n                clientId={clientId}\n                handlers={handlers}\n              />\n              <NoteTab />\n              <TaskTab clientId={this.state.clientId}/>\n            </SwipeableViews>\n          </div>\n        </QueueAnim>\n      </section>\n    );\n\n    return(\n      <ClientWithTabs />\n    );\n  }\n}\n\nexport default Client;\n","import React from 'react';\nimport MaterialIcon from 'components/MaterialIcon';\n\nconst Statboxes = () => (\n  <div className=\"row\">\n    <div className=\"col-xl-3 col-sm-6\">\n      <section className=\"number-card-v4 mdc-elevation--z1 mb-4\">\n        <div className=\"box-top\">\n          <div className=\"box-icon\">\n            <span className=\"icon-btn icon-btn-round bg-success text-white\">\n              <MaterialIcon icon=\"pageview\" />\n            </span>\n          </div>\n          <div className=\"box-info\">\n            <p className=\"info-desc\">客戶數量</p>\n            <p className=\"box-main-num\">+3</p>\n          </div>\n        </div>\n        <div className=\"box-bottom\">\n          <div className=\"box-left\">\n            <p className=\"info-desc\">Pages/Visit</p>\n            <p className=\"text-success\">8.55</p>\n          </div>\n          <div className=\"box-right\">\n            <p className=\"info-desc\">% New Vist</p>\n            <p className=\"text-success\">56.23%</p>\n          </div>\n        </div>\n      </section>\n    </div>\n    <div className=\"col-xl-3 col-sm-6\">\n      <section className=\"number-card-v4 mdc-elevation--z1 mb-4\">\n        <div className=\"box-top\">\n          <div className=\"box-icon\">\n            <span className=\"icon-btn icon-btn-round bg-info text-white\">\n              <MaterialIcon icon=\"people\" />\n            </span>\n          </div>\n          <div className=\"box-info\">\n            <p className=\"info-desc\">會議數量</p>\n            <p className=\"box-main-num\">+12</p>\n          </div>\n        </div>\n        <div className=\"box-bottom\">\n          <div className=\"box-left\">\n            <p className=\"info-desc\">AVG Visit Duration (s)</p>\n            <p className=\"text-info\">9.60</p>\n          </div>\n        </div>\n      </section>\n    </div>\n    <div className=\"col-xl-3 col-sm-6\">\n      <section className=\"number-card-v4 mdc-elevation--z1 mb-4\">\n        <div className=\"box-top\">\n          <div className=\"box-icon\">\n            <span className=\"icon-btn icon-btn-round bg-warning text-white\">\n              <MaterialIcon icon=\"attach_money\" />\n            </span>\n          </div>\n          <div className=\"box-info\">\n            <p className=\"info-desc\">待辦事項</p>\n            <p className=\"box-main-num\">21個完成</p>\n          </div>\n        </div>\n        <div className=\"box-bottom\">\n          <div className=\"box-left\">\n            <p className=\"info-desc\">Last Week</p>\n            <p className=\"text-warning\">26.80%</p>\n          </div>\n          <div className=\"box-right\">\n            <p className=\"info-desc\">Last Month</p>\n            <p className=\"text-warning\">39.33%</p>\n          </div>\n        </div>\n      </section>\n    </div>\n    <div className=\"col-xl-3 col-sm-6\">\n      <section className=\"number-card-v4 mdc-elevation--z1 mb-4\">\n        <div className=\"box-top\">\n          <div className=\"box-icon\">\n            <span className=\"icon-btn icon-btn-round bg-primary text-white\">\n              <MaterialIcon icon=\"shopping_cart\" />\n            </span>\n          </div>\n          <div className=\"box-info\">\n            <p className=\"info-desc\">下週行程</p>\n            <p className=\"box-main-num\">25.5%</p>\n          </div>\n        </div>\n        <div className=\"box-bottom\">\n          <div className=\"box-left\">\n            <p className=\"info-desc\">Last Week</p>\n            <p className=\"text-primary\">16.50%</p>\n          </div>\n          <div className=\"box-right\">\n            <p className=\"info-desc\">Last Month</p>\n            <p className=\"text-primary\">29.00%</p>\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n);\n\nexport default Statboxes;\n","import React from 'react';\nimport MaterialIcon from 'components/MaterialIcon';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport { withStyles } from '@material-ui/core/styles';\nimport TableHead from '@material-ui/core/TableHead';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport TextField from '@material-ui/core/TextField';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\n\nconst columnData = [\n  { id: 'name', numeric: false, disablePadding: true, label: '名字' },\n  { id: 'tags', numeric: false, disablePadding: false, label: '標籤' },\n  { id: 'company', numeric: false, disablePadding: false, label: '任職公司' },\n  { id: 'income', numeric: false, disablePadding: false, label: '收入' },\n  { id: 'note_summary', numeric: false, disablePadding: false, label: '筆記摘要' },\n  { id: 'updated', numeric: false, disablePadding: false, label: '更新時間' },\n];\n\nclass EnhancedTableHead extends React.Component {\n  createSortHandler = property => event => {\n    this.props.onRequestSort(event, property);\n  };\n\n  render() {\n    const { onSelectAllClick, order, orderBy, numSelected, rowCount } = this.props;\n\n    return (\n      <TableHead>\n        <TableRow>\n          <TableCell padding=\"checkbox\">\n            <Checkbox\n              indeterminate={numSelected > 0 && numSelected < rowCount}\n              checked={numSelected === rowCount}\n              onChange={onSelectAllClick}\n            />\n          </TableCell>\n          {columnData.map(column => {\n            return (\n              <TableCell\n                key={column.id}\n                numeric={column.numeric}\n                padding={column.disablePadding ? 'none' : 'default'}\n                sortDirection={orderBy === column.id ? order : false}\n              >\n                <Tooltip\n                  title=\"Sort\"\n                  placement={column.numeric ? 'bottom-end' : 'bottom-start'}\n                  enterDelay={300}\n                >\n                  <TableSortLabel\n                    active={orderBy === column.id}\n                    direction={order}\n                    onClick={this.createSortHandler(column.id)}\n                  >\n                    {column.label}\n                  </TableSortLabel>\n                </Tooltip>\n              </TableCell>\n            );\n          }, this)}\n        </TableRow>\n      </TableHead>\n    );\n  }\n}\n\nEnhancedTableHead.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.string.isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst toolbarStyles = theme => ({\n  root: {\n    paddingRight: theme.spacing.unit,\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  spacer: {\n    flex: '1 1 100%',\n  },\n  actions: {\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    flex: '0 0 auto',\n  },\n});\n\nlet EnhancedTableToolbar = props => {\n  const { numSelected, classes, handleQueryChange } = props;\n\n  return (\n    <Toolbar\n      className={classNames(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      <div className={classes.title}>\n        {numSelected > 0 ? (\n          <Typography color=\"inherit\" variant=\"subheading\">\n            {numSelected} 個已選擇\n          </Typography>\n        ) : (\n          <Typography variant=\"title\" id=\"tableTitle\">\n            客戶列表\n          </Typography>\n        )}\n      </div>\n      <div className={classes.spacer} />\n      <div className={classes.actions}>\n        {numSelected > 0 ? (\n          <Tooltip title=\"刪除\">\n            <IconButton aria-label=\"Delete\">\n              <DeleteIcon />\n            </IconButton>\n          </Tooltip>\n        ) : (\n          <>\n            <Tooltip title=\"篩選列表\">\n              <IconButton aria-label=\"Filter list\">\n                <FilterListIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip>\n              <TextField\n                type=\"search\"\n                id=\"search-bar\"\n                variant=\"outlined\"\n                placeholder=\"搜尋客戶\"\n                onChange={handleQueryChange}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchIcon />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </Tooltip>\n          </>\n        )}\n      </div>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n};\n\nEnhancedTableToolbar = withStyles(toolbarStyles)(EnhancedTableToolbar);\n\nexport {EnhancedTableHead, EnhancedTableToolbar};\n","import React from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport OutlinedButton from 'components/OutlinedButton';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n  divContainer: {\n    width: '400px',\n    margin: '20px'\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  textField: {\n    width: '50px',\n  }\n});\n\nclass ClientDrawer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value\n    });\n  };\n\n  handleSave = (event) => {\n    console.log(this.state);\n    const { email, birthday, company, name } = this.state;\n    this.props.handlers.createClient({\n      name, email, birthday, company\n    });\n  };\n\n  toggleDrawer = (isOpen) => () => {\n    this.setState({ isOpen });\n  };\n\n  render() {\n    const classes = styles();\n    const { email, birthday, company, name } = this.state;\n    const { isOpen, toggleClientDrawer} = this.props;\n\n    return (\n      <Drawer anchor=\"right\" open={isOpen} onClose={toggleClientDrawer(false)}>\n          <div style={classes.divContainer}>\n          <Typography variant=\"h1\" gutterBottom>\n            新增客戶\n          </Typography>\n            <form className={classes.container} noValidate>\n              <TextField\n                required\n                label=\"姓名\"\n                className={classes.textField}\n                value={name}\n                onChange={this.handleChange('name')}\n                margin=\"normal\"\n              />\n              <TextField\n                id=\"birthday\"\n                label=\"生日\"\n                value={birthday}\n                className={classes.textField}\n                onChange={this.handleChange('birthday')}\n                margin=\"normal\"\n              />\n              <TextField\n                id=\"email\"\n                label=\"Email\"\n                type=\"email\"\n                helperText=\"錯誤email格式\"\n                value={email}\n                className={classes.textField}\n                onChange={this.handleChange('email')}\n                margin=\"normal\"\n              />\n              <TextField\n                id=\"company\"\n                label=\"公司\"\n                value={company}\n                className={classes.textField}\n                onChange={this.handleChange('company')}\n                margin=\"normal\"\n              />\n            </form>\n            <div className=\"divider\" />\n            <OutlinedButton color=\"secondary\" className=\"btn-w-md\" onClose={toggleClientDrawer(false)}>取消</OutlinedButton>\n            <div className=\"divider\" />\n            <Button variant=\"contained\" color=\"primary\" className=\"btn-w-md\" onClick={this.handleSave}>\n              儲存</Button>\n          </div>\n      </Drawer>\n    )\n  };\n}\n\nexport default ClientDrawer;\n","import React from 'react';\nimport Chip from '@material-ui/core/Chip';\n\nfunction Tag({tags, config}) {\n\n  const handleClick = () => {\n\n  }\n\n  const getTagName = (tagId) => {\n    var matches = config.tags.filter(tag => tag.id === tagId);\n    return matches[0]['name'];\n  }\n\n  return (\n      tags.map((tagId, i) => (\n        <Chip\n          key={i}\n          label={getTagName(tagId)}\n          className=\"table-chip bg-info px-2\"\n          onClick={handleClick}\n        />\n      ))\n  );\n}\n\nexport default Tag;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport {EnhancedTableHead, EnhancedTableToolbar} from './EnhancedTableElements';\nimport ClientDrawer from './ClientDrawer';\nimport Tag from './Tag';\nimport {requestHeaders} from 'auth/Auth';\n\nfunction getSorting(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => (b[orderBy] < a[orderBy] ? -1 : 1)\n    : (a, b) => (a[orderBy] < b[orderBy] ? -1 : 1);\n}\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing.unit * 3,\n  },\n  table: {\n    minWidth: 1020,\n  },\n  tableWrapper: {\n    overflowX: 'auto',\n  },\n});\n\nconst TEST_TOKEN = \"PS3eSI8zNXIa4m_bfc2P8Qh4XbQtgbX2bOz9qphHcKMinFmMtGpPkOtso1gKJDTvj0ZJmn9PzNEirnVPVcdlevTleq2mUuVPgsW0SnKR5GaQqrH-qmtwtTWkr77Mja0wzOATEevMPLuNWWh9e7aiP2Tqkw8Hc69BA41nB2ozrhg\";\n\n\nclass EnhancedTable extends React.Component {\n\n\n  constructor(props) {\n    super(props);\n    console.log(requestHeaders());\n    // handlers\n    const createClient = (profile) => {\n      fetch(\"https://api.cooby.co/clients/\", {\n        \"method\": \"POST\",\n        mode: 'cors',\n        headers: requestHeaders(),\n        body: JSON.stringify(profile)\n      }).then(res => res.json())\n        .then(\n          (result) => {\n            console.log(result);\n            this.setState({\n              clients: this.state.clients.concat({\n                note_summary: result.note_summary,\n                profile: {\n                  ...profile,\n                  id: result.id\n                }\n              })\n            });\n          });\n    };\n\n    const removeTagFromClient = (tag, client) => {\n\n    };\n\n    const filterByTag = (tag) => {\n\n    };\n\n    // state variables\n    this.state = {\n      openClientDrawer: false,\n      // ui state\n      order: 'asc',\n      orderBy: 'name',\n      selected: [],\n      page: 0,\n      rowsPerPage: 10,\n      error: null,\n      isLoaded: false,\n      // app data\n      clients: [],\n      filteredClients: [],\n      config: {},\n\n      //handlers\n      handlers: {\n          createClient,\n          removeTagFromClient,\n          filterByTag}\n    };\n  }\n\n\n  componentDidMount() {\n    fetch(\"https://api.cooby.co/clients/\", {\n      \"method\": \"GET\",\n      mode: 'cors',\n      headers: requestHeaders()\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            clients: result.clients,\n            unfilteredClients: result.clients,\n            config: result.config\n          });\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n  }\n\n  toggleClientDrawer = (state) => () => {\n    this.setState({openClientDrawer: state});\n  }\n\n\n  handleRequestSort = (event, property) => {\n    const orderBy = property;\n    let order = 'desc';\n\n    if (this.state.orderBy === property && this.state.order === 'desc') {\n      order = 'asc';\n    }\n\n    this.setState({ order, orderBy });\n  };\n\n  handleSelectAllClick = (event, checked) => {\n    if (checked) {\n      this.setState(state => ({ selected: state.clients.map(n => n.id) }));\n      return;\n    }\n    this.setState({ selected: [] });\n  };\n\n  handleClick = (event, id) => {\n    const { selected } = this.state;\n    const selectedIndex = selected.indexOf(id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    this.setState({ selected: newSelected });\n  };\n\n  clientSearchMatch = (query, client) => {\n    let incomeConfig = this.state.config.income || {};\n    // search name, company, note_summary and income\n    let searchFields = [client.profile.name, client.profile.company, client.note_summary, incomeConfig[String(client.profile.income)]];\n    return searchFields.reduce((sum, value) => (\n        sum || (value && value.toLowerCase().includes(query.toLowerCase())) // make sure value isn't null; otherwise .includes breaks.\n    ), false);\n  }\n\n  handleQueryChange = (event) => {\n    console.log(event.target.value);\n    if (event.target.value.length > 0) {\n      this.setState({\n        clients: this.state.unfilteredClients.filter(client => this.clientSearchMatch(event.target.value, client))\n      });\n    } else {\n      this.setState({\n        clients: this.state.unfilteredClients\n      });\n    }\n\n  }\n\n  handleChangePage = (event, page) => {\n    this.setState({ page });\n  };\n\n  handleChangeRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value });\n  };\n\n  isSelected = id => this.state.selected.indexOf(id) !== -1;\n\n  render() {\n    const { classes } = this.props;\n    const { clients, order, orderBy, selected, rowsPerPage, page, config, handlers, openClientDrawer } = this.state;\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, clients.length - page * rowsPerPage);\n\n    return (\n      <>\n        <Button variant=\"contained\" color=\"primary\" className=\"btn-w-md\" onClick={this.toggleClientDrawer(true)}>\n          新增客戶</Button>\n        <div className=\"divider\" />\n        <Paper className={classes.root}>\n          <ClientDrawer isOpen={openClientDrawer} toggleClientDrawer={this.toggleClientDrawer} handlers={handlers} />\n          <EnhancedTableToolbar numSelected={selected.length} handleQueryChange={this.handleQueryChange} />\n          <div className={classes.tableWrapper}>\n            <Table className={classes.table} aria-labelledby=\"tableTitle\">\n              <EnhancedTableHead\n                numSelected={selected.length}\n                order={order}\n                orderBy={orderBy}\n                onSelectAllClick={this.handleSelectAllClick}\n                onRequestSort={this.handleRequestSort}\n                rowCount={clients.length}\n              />\n              <TableBody>\n                {clients\n                  .sort(getSorting(order, orderBy))\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                  .map(n => {\n                    const isSelected = this.isSelected(n.profile.id);\n                    return (\n                      <TableRow\n                        hover\n                        onClick={event => this.handleClick(event, n.profile.id)}\n                        role=\"checkbox\"\n                        aria-checked={isSelected}\n                        tabIndex={-1}\n                        key={n.profile.id}\n                        selected={isSelected}\n                      >\n                        <TableCell padding=\"checkbox\">\n                          <Checkbox checked={isSelected} />\n                        </TableCell>\n                        <TableCell component=\"th\" scope=\"row\" padding=\"none\">\n                        <Link to={{\n                            pathname: \"/app/client/\" + n.profile.id,\n                            state: {\n                              client: n,\n                              config: config,\n                              handlers: handlers\n                            }\n                          }} className=\"link-cta link-animated-hover link-hover-v1 text-primary\">{n.profile.name}\n                        </Link></TableCell>\n                        <TableCell><Tag tags={n.profile.tags} config={config} handlers={handlers} /></TableCell>\n                        <TableCell>{n.profile.company}</TableCell>\n                        <TableCell>{config.income[n.profile.income]}</TableCell>\n                        <TableCell>{n.note_summary}</TableCell>\n                        <TableCell>{n.profile.updated}</TableCell>\n                      </TableRow>\n                    );\n                  })}\n                {emptyRows > 0 && (\n                  <TableRow style={{ height: 49 * emptyRows }}>\n                    <TableCell colSpan={6} />\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </div>\n          <TablePagination\n            component=\"div\"\n            count={clients.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            labelRowsPerPage=\"每頁數目\"\n            backIconButtonProps={{\n              'aria-label': '上一頁',\n            }}\n            nextIconButtonProps={{\n              'aria-label': '下一頁',\n            }}\n            onChangePage={this.handleChangePage}\n            onChangeRowsPerPage={this.handleChangeRowsPerPage}\n          />\n        </Paper>\n      </>\n    );\n  }\n}\n\nEnhancedTable.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst EnhancedTable1 = withStyles(styles)(EnhancedTable);\n\n\n\nexport default withRouter(EnhancedTable1);\n","import React from 'react';\nimport QueueAnim from 'rc-queue-anim';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom';\nimport Client from './components/Client';\nimport StatBoxes1 from './components/StatBoxes1';\n  import StatBoxes2 from './components/StatBoxes2';\nimport ClientList from './components/ClientList';\nimport './components/styles.scss';\nimport {getAuthfromCookie} from 'auth/Auth';\n\n\n\nexport default class ClientsPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n    if (!getAuthfromCookie()) {\n      console.log('go login');\n      this.props.history.push('/user/login');\n    }\n  }\n\n\n  render() {\n    const { match } = this.props;\n    const { openClientDrawer } = this.state;\n\n    return (\n        <div>\n          <Switch>\n            <Route path={`${match.path}/:clientId`} component={Client} />\n\n            <Route path={match.path}>\n              <div className=\"container-fluid no-breadcrumb page-dashboard\">\n                <QueueAnim type=\"bottom\" className=\"ui-animate\">\n                    <div key=\"1\"><StatBoxes1 /></div>\n                    <div key=\"2\">\n                      <ClientList\n                        toggleClientDrawer={this.toggleClientDrawer}\n                        openClientDrawer={openClientDrawer}/>\n                    </div>\n                  </QueueAnim>\n              </div>\n            </Route>\n          </Switch>\n        </div>\n    );\n  }\n}\n"],"sourceRoot":""}