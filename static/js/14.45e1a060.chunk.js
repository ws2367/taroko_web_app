(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1675:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(338),l=n(47),i=n.n(l),c=n(1663),s=n(53),u=n(329),m=n.n(u),p=n(184),d=n.n(p),f=n(1559),h=n.n(f),b=n(63),y=n(128),g=n.n(y),E=n(64),v=n.n(E),N=(n(1556),n(1689)),w=n(172),x=n.n(w),C=n(489),S=n.n(C),_=n(487),P=n.n(_),O=n(290),k=n.n(O),j=n(1280),T=n.n(j);function F(e){return(F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function W(e,t){return!t||"object"!==F(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var M={PaperProps:{style:{maxHeight:224,width:250}}},z=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=W(this,I(t).call(this,e))).getTagName=function(e){return n.props.tagOptions.find(function(t){return t.id==e}).name},n.handleDelete=function(e){return function(){var t=n.state.tags.filter(function(t){return t!==e});n.setState({tags:t}),n.props.onChange&&n.props.onChange({target:{value:t}})}},n.handleChange=function(e){console.log(e.target),n.setState({tags:e.target.value}),n.props.onChange&&n.props.onChange(e)},n.state={tags:e.tags||[]},n}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.theme,o=t.tagOptions,l=t.title,i=this.state.tags;return r.a.createElement("div",{className:n.root},r.a.createElement(P.a,{className:n.formControl},r.a.createElement(S.a,{htmlFor:"select-multiple-chip"},l),r.a.createElement(k.a,{multiple:!0,value:i,onChange:this.handleChange,input:r.a.createElement(x.a,{id:"select-multiple-chip"}),renderValue:function(t){return r.a.createElement("div",{className:n.chips},t.map(function(t){return r.a.createElement(T.a,{key:t,label:e.getTagName(t),className:n.chip,onDelete:e.handleDelete(t)})}))},MenuProps:M},o.map(function(e){return r.a.createElement(g.a,{key:e.id,value:e.id,style:{fontWeight:void 0===i.indexOf(e.id)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}},e.name)}))))}}])&&R(n.prototype,a),o&&R(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");D(e.prototype,t&&t.prototype),t&&D(e,t)}(t,e),t}(r.a.Component),B=Object(b.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:400,maxWidth:"80%"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:e.spacing.unit/4}}},{withTheme:!0})(z),q=n(1690),A=n.n(q);n(1564);function L(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function H(e){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");K(e.prototype,t&&t.prototype),t&&K(e,t)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t){return!t||"object"!==H(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Z=function(){return r.a.createElement("div",{className:"ball-grid-pulse"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},Y={"Content-Type":"application/json",Authorization:"BEARER PS3eSI8zNXIa4m_bfc2P8Qh4XbQtgbX2bOz9qphHcKMinFmMtGpPkOtso1gKJDTvj0ZJmn9PzNEirnVPVcdlevTleq2mUuVPgsW0SnKR5GaQqrH-qmtwtTWkr77Mja0wzOATEevMPLuNWWh9e7aiP2Tqkw8Hc69BA41nB2ozrhg"},$=function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"40%"},longTextField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"90%"},menu:{width:200},leftIcon:{marginRight:e.spacing.unit}}},ee=function(e){function t(e){var n;return X(this,t),(n=Q(this,U(t).call(this,e))).handleDateChange=function(e){n.handleChange("birthday")({event:{target:{value:e}}})},n.handleChange=function(e){return function(t){var a=t.target.value;console.log(t.target),n.setState(function(t){return{profile:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){G(e,t,n[t])})}return e}({},t.profile,G({},e,a))}});var r=G({id:n.state.profile.id},e,a);fetch("https://api.cooby.co/clients/"+r.id,{method:"PUT",mode:"cors",headers:Y,body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){console.log(e)}),"name"==e&&n.props.handlers.updateClientName(a)}},n.state={profile:e.profile},n}return J(t,r.a.Component),t}(),te=function(e){function t(){return X(this,t),Q(this,U(t).apply(this,arguments))}return V(t,[{key:"render",value:function(){var e=this.state.profile,t=this.props,n=t.classes,o=t.config;return r.a.createElement(a.Fragment,null,r.a.createElement("form",{className:n.container,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{required:!0,id:"name",label:"\u59d3\u540d",className:n.textField,value:e.name,onChange:this.handleChange("name"),margin:"normal"}),r.a.createElement("div",{className:"picker"},r.a.createElement(v.a,{type:"date",label:"\u751f\u65e5",value:e.birthday,onChange:this.handleDateChange,margin:"normal"})),r.a.createElement(B,{title:"\u6a19\u7c64",tags:e.tags,tagOptions:o.tags,onChange:this.handleChange("tags"),label:"Tag"}),r.a.createElement(i.a,{variant:"contained",color:"secondary"},r.a.createElement(A.a,{className:n.leftIcon}),"\u65b0\u589e\u6a19\u7c64"),r.a.createElement("div",{className:"divider"}),r.a.createElement(v.a,{id:"email",label:"Email",type:"email",value:e.email,className:n.textField,onChange:this.handleChange("email"),margin:"normal"}),r.a.createElement(v.a,{id:"cellphone",label:"\u96fb\u8a71\u865f\u78bc",className:n.textField,onChange:this.handleChange("cell_phone"),type:"tel",margin:"normal"}),r.a.createElement(v.a,{id:"company",label:"\u4efb\u8077\u516c\u53f8/\u8077\u7a31",value:e.company,className:n.textField,onChange:this.handleChange("company"),margin:"normal"}),r.a.createElement(v.a,{id:"address",label:"\u5730\u5740",value:e.address,className:n.textField,onChange:this.handleChange("address"),margin:"normal"}),r.a.createElement(v.a,{id:"income",select:!0,label:"\u6708\u6536\u5165",className:n.textField,value:String(e.income),onChange:this.handleChange("income"),SelectProps:{MenuProps:{className:n.menu}},helperText:"\u8acb\u9078\u64c7\u6536\u5165",margin:"normal"},Object.keys(o.income).map(function(e){return r.a.createElement(g.a,{key:e,value:e},o.income[e])})),r.a.createElement(v.a,{id:"source",select:!0,label:"\u8a8d\u8b58\u65b9\u5f0f",className:n.textField,value:String(e.source),onChange:this.handleChange("source"),SelectProps:{MenuProps:{className:n.menu}},helperText:"\u8acb\u9078\u64c7\u8a8d\u8b58\u65b9\u5f0f",margin:"normal"},Object.keys(o.source).map(function(e){return r.a.createElement(g.a,{key:e,value:e},o.source[e])}))))}}]),J(t,e),t}(ee),ne=function(e){function t(){return X(this,t),Q(this,U(t).apply(this,arguments))}return V(t,[{key:"render",value:function(){var e=this.state.profile,t=this.props,n=t.classes,a=t.config;return r.a.createElement("form",{className:n.container,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{select:!0,id:"is_insured",label:"\u6709\u4fdd\u96aa\uff1f",className:n.textField,value:String(e.is_insured),SelectProps:{MenuProps:{className:n.menu}},onChange:this.handleChange("is_insured"),margin:"normal"},Object.keys(a.is_insured).map(function(e){return r.a.createElement(g.a,{key:e,value:e},a.is_insured[e])})),r.a.createElement(B,{id:"insurance_companies",title:"\u6295\u4fdd\u516c\u53f8",tags:e.insurance_companies,tagOptions:a.insurance_companies,onChange:this.handleChange("insurance_companies"),label:"\u6295\u4fdd\u516c\u53f8"}),r.a.createElement(B,{id:"insurances_of_interest",title:"\u6709\u8208\u8da3\u4fdd\u96aa\u7a2e\u985e",tags:e.insurances_of_interest,tagOptions:a.insurances_of_interest,onChange:this.handleChange("insurances_of_interest"),label:"\u6709\u8208\u8da3\u4fdd\u96aa\u7a2e\u985e"}))}}]),J(t,e),t}(ee),ae=function(e){function t(){return X(this,t),Q(this,U(t).apply(this,arguments))}return V(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.profile;e.config;return r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{multiline:!0,InputLabelProps:{shrink:!0},fullWidth:!0,id:"financial_plan",value:n.financial_plan,onChange:this.handleChange("financial_plan"),className:t.longTextField,margin:"normal"}))}}]),J(t,e),t}(ee),re=function(e){function t(){return X(this,t),Q(this,U(t).apply(this,arguments))}return V(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.config,a=e.clientOptions,o=this.state.profile;return r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{select:!0,id:"marital_status",label:"\u5a5a\u59fb\u72c0\u6cc1",value:String(o.marital_status),className:t.longTextField,onChange:this.handleChange("marital_status"),SelectProps:{MenuProps:{className:t.menu}},margin:"normal"},Object.keys(n.marital_status).map(function(e){return r.a.createElement(g.a,{key:e,value:e},n.marital_status[e])})),r.a.createElement(B,{title:"\u5ef6\u4f38\u89aa\u53cb\u540d\u55ae",tags:o.related_clients,tagOptions:a,onChange:this.handleChange("related_clients"),label:"related_clients"}))}}]),J(t,e),t}(ee),oe=function(e){function t(){return X(this,t),Q(this,U(t).apply(this,arguments))}return V(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.config,this.state.profile);return r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{multiline:!0,InputLabelProps:{shrink:!0},fullWidth:!0,id:"appendix",label:"\u5099\u8a3b",value:n.appendix,className:t.longTextField,margin:"normal"}))}}]),J(t,e),t}(ee),le=Object(b.withStyles)($)(te),ie=Object(b.withStyles)($)(ne),ce=Object(b.withStyles)($)(ae),se=Object(b.withStyles)($)(re),ue=Object(b.withStyles)($)(oe),me=function(e){function t(e){var n;return X(this,t),(n=Q(this,U(t).call(this,e))).fetchClient=function(e){fetch("https://api.cooby.co/clients/",{method:"GET",mode:"cors",headers:Y}).then(function(e){return e.json()}).then(function(t){var a=t.clients.filter(function(t){return t.profile.id===e})[0];n.setState({isLoaded:!0,profile:a.profile,clientOptions:t.clients.map(function(e){return{id:e.profile.id,name:e.profile.name}}),config:t.config})},function(e){n.setState({isLoaded:!1,error:e})})},n.state={isLoaded:!1},n}return V(t,[{key:"componentDidMount",value:function(){this.fetchClient(this.props.clientId)}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,n=e.profile,a=e.config,o=e.clientOptions,l=this.props.handlers,i=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("article",{className:"article pt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-6"},r.a.createElement("div",{className:"box box-default mb-3"},r.a.createElement("div",{className:"box-header"},"\u57fa\u672c\u8cc7\u6599"),r.a.createElement("div",{className:"box-divider"}),r.a.createElement("div",{className:"box-body"},r.a.createElement(le,{profile:n,config:a,handlers:l}))),r.a.createElement("div",{className:"box box-default mb-3"},r.a.createElement("div",{className:"box-header"},"\u4fdd\u96aa\u72c0\u6cc1"),r.a.createElement("div",{className:"box-divider"}),r.a.createElement("div",{className:"box-body"},r.a.createElement(ie,{profile:n,config:a,handlers:l})))),r.a.createElement("div",{className:"col-xl-6"},r.a.createElement("div",{className:"box box-default mb-3"},r.a.createElement("div",{className:"box-header"},"\u8ca1\u52d9\u898f\u5283"),r.a.createElement("div",{className:"box-divider"}),r.a.createElement("div",{className:"box-body"},r.a.createElement(ce,{profile:n,config:a,handlers:l}))),r.a.createElement("div",{className:"box box-default mb-3"},r.a.createElement("div",{className:"box-header"},"\u5a5a\u59fb\u8207\u5bb6\u5ead"),r.a.createElement("div",{className:"box-divider"}),r.a.createElement("div",{className:"box-body"},r.a.createElement(se,{profile:n,config:a,handlers:l,clientOptions:o}))),r.a.createElement("div",{className:"box box-default mb-3"},r.a.createElement("div",{className:"box-header"},"\u5099\u8a3b"),r.a.createElement("div",{className:"box-divider"}),r.a.createElement("div",{className:"box-body"},r.a.createElement(ue,{profile:n,config:a,handlers:l})))))))};return r.a.createElement(function(){return t?r.a.createElement(i,null):r.a.createElement(N.a,{container:!0,justify:"center"},r.a.createElement("div",{className:"m-10"},r.a.createElement(Z,null)))},null)}}]),J(t,e),t}(r.a.Component),pe=n(71),de=n.n(pe),fe=n(1214),he=n.n(fe),be=n(129),ye=n.n(be),ge=n(57),Ee=n.n(ge),ve=n(94),Ne=n.n(ve),we=n(95),xe=n.n(we),Ce=n(103),Se=n.n(Ce),_e=n(1688),Pe=n.n(_e),Oe=n(62),ke=n.n(Oe),je=n(566),Te=n.n(je),Fe=n(1226),De=n.n(Fe),Re=n(1548);function We(e){return(We="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ze(e,t){return!t||"object"!==We(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var qe=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return ze(a,(n=a=ze(this,(e=Be(t)).call.apply(e,[this].concat(o))),a.handleChange=function(e){return function(t){var n,r,o;a.setState((n={},r=e,o=t.target.value,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))}},a.handleSave=function(e){console.log(a.state);var t=a.state,n=t.email,r=t.birthday,o=t.company,l=t.name;a.props.handlers.createClient({name:l,email:n,birthday:r,company:o})},n))}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=(t.mode,t.note),a=t.classes,o=t.isOpen,l=t.closeDrawer,c=t.config;console.log(n);var s=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{variant:"h3",gutterBottom:!0},"\u7406\u8ce0\u7d30\u7bc0"),r.a.createElement(v.a,{id:"date",label:"\u7406\u8ce0\u65e5\u671f",type:"date",value:n.additional_data.claim_time,className:a.textField,margin:"normal"}),r.a.createElement(v.a,{label:"\u7406\u8ce0\u5167\u5bb9",value:n.additional_data.claim_content,className:a.longTextField,margin:"normal"}))},u=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{variant:"h3",gutterBottom:!0},"\u7c3d\u7d04\u7d30\u7bc0"),r.a.createElement(v.a,{id:"date",label:"\u7c3d\u7d04\u65e5\u671f",type:"date",value:n.additional_data.signed_time,className:a.textField,margin:"normal"}),r.a.createElement(v.a,{label:"\u7c3d\u7d04\u5167\u5bb9",value:n.additional_data.signed_content,className:a.longTextField,margin:"normal"}))},m=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{variant:"h3",gutterBottom:!0},"\u905e\u9001\u7d30\u7bc0"),r.a.createElement(v.a,{id:"date",label:"\u905e\u9001\u65e5\u671f",type:"date",value:n.additional_data.sent_time,className:a.textField,margin:"normal"}),r.a.createElement(v.a,{label:"\u905e\u9001\u5167\u5bb9",value:n.additional_data.sent_content,className:a.longTextField,margin:"normal"}))},p=function(){return r.a.createElement(v.a,{id:"current_insurance",label:"\u4fdd\u96aa\u72c0\u6cc1",value:n.additional_data.current_insurance,className:a.longTextField,margin:"normal"})};return r.a.createElement(De.a,{anchor:"right",open:o,onClose:l()},r.a.createElement("div",{className:a.divContainer},r.a.createElement(ke.a,{variant:"h1",gutterBottom:!0},n.title||"\u672a\u547d\u540d"),r.a.createElement(ke.a,{variant:"h3",gutterBottom:!0},c.note_type[n.note_type]),r.a.createElement("form",{className:a.container,noValidate:!0},r.a.createElement(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{label:"\u5730\u9ede",className:a.textField,value:n.location,onChange:e.handleChange("location"),margin:"normal"}),r.a.createElement(v.a,{required:!0,id:"date",label:"\u65e5\u671f",type:"date",value:n.date,className:a.textField,onChange:e.handleChange("date"),margin:"normal"}),r.a.createElement(v.a,{id:"appendix",label:"\u5099\u8a3b",value:n.appendix,className:a.longTextField,onChange:e.handleChange("appendix"),margin:"normal"}))},null),r.a.createElement(function(){switch(String(n.note_type)){case"1":return r.a.createElement(p,null);case"2":return r.a.createElement(m,null);case"3":return r.a.createElement(u,null);case"4":return r.a.createElement(s,null);default:return r.a.createElement(r.a.Fragment,null)}},null)),r.a.createElement("div",{className:"divider"}),r.a.createElement(Re.a,{color:"secondary",className:"btn-w-md",onClose:l()},"\u53d6\u6d88"),r.a.createElement("div",{className:"divider"}),r.a.createElement(i.a,{variant:"contained",color:"primary",className:"btn-w-md",onClick:this.handleSave},"\u5132\u5b58")))}}])&&Me(n.prototype,a),o&&Me(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Ie(e.prototype,t&&t.prototype),t&&Ie(e,t)}(t,e),t}(r.a.Component),Ae=Object(b.withStyles)(function(e){return{divContainer:{width:"200px",margin:"20px"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,minWidth:150,width:"40%"},longTextField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,minWidth:300,width:"90%"},container:{display:"flex",flexWrap:"wrap"}}})(qe);function Le(e){return(Le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Ge(e.prototype,t&&t.prototype),t&&Ge(e,t)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Je(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),e}function Ke(e,t){return!t||"object"!==Le(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Ue=function(e){function t(){var e,n,a;Ve(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Ke(a,(n=a=Ke(this,(e=Qe(t)).call.apply(e,[this].concat(o))),a.state={AnchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.handleMenuItemClick=function(e){a.setState({anchorEl:null}),a.props.openDrawer({note_type:e.target.value,additional_data:{}})},n))}return Je(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,n=this.props.noteTypes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{"aria-controls":"simple-menu","aria-haspopup":"true",variant:"contained",color:"primary",className:"btn-w-md",onClick:this.handleClick},"\u65b0\u589e\u6703\u8b70\u7d00\u9304"),r.a.createElement(Te.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:this.handleClose},Object.keys(n).map(function(t){return r.a.createElement(g.a,{key:t,value:t,onClick:e.handleMenuItemClick},n[t])})))}}]),He(t,e),t}(r.a.Component),Ze=function(e){function t(){var e,n,a;Ve(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return Ke(a,(n=a=Ke(this,(e=Qe(t)).call.apply(e,[this].concat(o))),a.state={notes:[],mode:"create",selectedNote:{},openNoteDrawer:!1,handlers:{},config:{note_type:{0:"\u7a7a\u767d\u7b46\u8a18",1:"\u4e00\u822c\u7b46\u8a18",2:"\u905e\u9001\u5efa\u8b70\u66f8",3:"\u4fdd\u96aa\u7c3d\u7d04",4:"\u4fdd\u96aa\u7406\u8ce0"}}},a.fetchNotes=function(e){fetch("https://api.cooby.co/clients/"+e+"/notes/",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"BEARER PS3eSI8zNXIa4m_bfc2P8Qh4XbQtgbX2bOz9qphHcKMinFmMtGpPkOtso1gKJDTvj0ZJmn9PzNEirnVPVcdlevTleq2mUuVPgsW0SnKR5GaQqrH-qmtwtTWkr77Mja0wzOATEevMPLuNWWh9e7aiP2Tqkw8Hc69BA41nB2ozrhg"}}).then(function(e){return e.json()}).then(function(e){a.setState({notes:e.notes})},function(e){a.setState({error:e})})},a.openDrawer=function(e){return function(t){console.log(t),console.log(e),a.setState({openNoteDrawer:!0,selectedNote:t,mode:e})}},a.handleNoteClick=function(e){return function(t){console.log(e),a.openDrawer("edit")(e)}},a.closeDrawer=function(){return function(){a.setState({openNoteDrawer:!1})}},n))}return Je(t,[{key:"componentDidMount",value:function(){this.fetchNotes(this.props.clientId)}},{key:"render",value:function(){var e=this,t=this.state,n=t.notes,o=t.selectedNote,l=t.mode,i=t.openNoteDrawer,c=t.handlers,s=t.config,u=this.props.classes;return r.a.createElement(a.Fragment,null,r.a.createElement(Ue,{noteTypes:s.note_type,openDrawer:this.openDrawer("create")}),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:u.root},r.a.createElement(Ae,{isOpen:i,closeDrawer:this.closeDrawer,mode:l,note:o,handlers:c,config:s}),r.a.createElement(de.a,{style:{width:"80%"}},r.a.createElement(ye.a,null,n.map(function(t,n){return r.a.createElement(Ee.a,null,r.a.createElement(xe.a,{key:n,primary:r.a.createElement(he.a,{container:!0,justify:"space-between"},r.a.createElement(ke.a,{inline:!0,align:"left",color:"textPrimary",variant:"body1"},t.title),r.a.createElement(ke.a,{inline:!0,align:"right",variant:"body1",color:"textSecondary"},t.date)),secondary:r.a.createElement(ke.a,{noWrap:"true"},t.appendix)}),r.a.createElement(Ne.a,null,r.a.createElement(Se.a,{edge:"end","aria-label":"view",onClick:e.handleNoteClick(t)},r.a.createElement(Pe.a,null))))})))))}}]),He(t,e),t}(r.a.Component),Ye=Object(b.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"100%"},root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},date:{fontSize:e.typography.pxToRem(13),fontWeight:e.typography.fontWeightRegular}}})(Ze),$e=n(1563);function et(e){return(et="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function at(e,t){return!t||"object"!==et(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rt(e){return(rt=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var ot={"Content-Type":"application/json",Authorization:"BEARER PS3eSI8zNXIa4m_bfc2P8Qh4XbQtgbX2bOz9qphHcKMinFmMtGpPkOtso1gKJDTvj0ZJmn9PzNEirnVPVcdlevTleq2mUuVPgsW0SnKR5GaQqrH-qmtwtTWkr77Mja0wzOATEevMPLuNWWh9e7aiP2Tqkw8Hc69BA41nB2ozrhg"},lt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=at(this,rt(t).call(this,e))).updateClientName=function(e){n.setState({name:e})},n.fetchTasks=function(){fetch("https://api.cooby.co/clients/"+n.state.clientId+"/tasks/",{method:"GET",mode:"cors",headers:ot}).then(function(e){return e.json()}).then(function(e){n.setState({tasks:e.tasks})},function(e){n.setState({error:e})})},n.handleTabChange=function(e,t){n.setState({tabIndex:t})},n.handleChangeIndex=function(e){n.setState({tabIndex:e})};var a=n.props.location.pathname.replace("/app/client/","");return n.state={notes:[],todos:[],clientId:a,name:null,error:null,isLoaded:!1,tabIndex:0,handlers:{updateClientName:n.updateClientName}},n}var n,a,l;return n=t,(a=[{key:"componentDidMount",value:function(){this.fetchTasks()}},{key:"render",value:function(){var e=this,t=this.state,n=t.clientId,a=t.name,l=t.tabIndex,i=(t.isLoaded,t.handlers),c=(t.notes,function(){return r.a.createElement("div",{className:"container-fluid no-breadcrumb container-mw-md chapter"},r.a.createElement("article",{className:"article"},r.a.createElement(o.a,{type:"bottom",className:"ui-animate"},r.a.createElement("div",{key:"1",className:"mb-3"}," ",r.a.createElement(Ye,{clientId:n})," "))))}),s=function(){return r.a.createElement("div",{className:"container-fluid pt-3"},r.a.createElement($e.a,null))};return r.a.createElement(function(){return r.a.createElement("section",{className:"page-with-tabs"},r.a.createElement(o.a,{type:"bottom",className:"ui-animate"},r.a.createElement("div",{key:"1"},r.a.createElement("div",{className:"page-header-title"}," ",a||"\u672a\u547d\u540d"," ")),r.a.createElement("div",{key:"2"},r.a.createElement(m.a,{value:l,onChange:e.handleTabChange,className:"page-tabs"},r.a.createElement(d.a,{label:"\u57fa\u672c\u8cc7\u6599"}),r.a.createElement(d.a,{label:"\u6703\u8b70\u8a18\u9304"}),r.a.createElement(d.a,{label:"\u5f85\u8fa6\u4e8b\u9805"})),r.a.createElement(h.a,{index:l,onChangeIndex:e.handleChangeIndex},r.a.createElement(me,{clientId:n,handlers:i}),r.a.createElement(c,null),r.a.createElement(s,null)))))},null)}}])&&nt(n.prototype,a),l&&nt(n,l),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");tt(e.prototype,t&&t.prototype),t&&tt(e,t)}(t,e),t}(r.a.Component),it=n(15),ct=function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-3 col-sm-6"},r.a.createElement("section",{className:"number-card-v4 mdc-elevation--z1 mb-4"},r.a.createElement("div",{className:"box-top"},r.a.createElement("div",{className:"box-icon"},r.a.createElement("span",{className:"icon-btn icon-btn-round bg-success text-white"},r.a.createElement(it.a,{icon:"pageview"}))),r.a.createElement("div",{className:"box-info"},r.a.createElement("p",{className:"info-desc"},"\u5ba2\u6236\u6578\u91cf"),r.a.createElement("p",{className:"box-main-num"},"+3"))),r.a.createElement("div",{className:"box-bottom"},r.a.createElement("div",{className:"box-left"},r.a.createElement("p",{className:"info-desc"},"Pages/Visit"),r.a.createElement("p",{className:"text-success"},"8.55")),r.a.createElement("div",{className:"box-right"},r.a.createElement("p",{className:"info-desc"},"% New Vist"),r.a.createElement("p",{className:"text-success"},"56.23%"))))),r.a.createElement("div",{className:"col-xl-3 col-sm-6"},r.a.createElement("section",{className:"number-card-v4 mdc-elevation--z1 mb-4"},r.a.createElement("div",{className:"box-top"},r.a.createElement("div",{className:"box-icon"},r.a.createElement("span",{className:"icon-btn icon-btn-round bg-info text-white"},r.a.createElement(it.a,{icon:"people"}))),r.a.createElement("div",{className:"box-info"},r.a.createElement("p",{className:"info-desc"},"\u6703\u8b70\u6578\u91cf"),r.a.createElement("p",{className:"box-main-num"},"+12"))),r.a.createElement("div",{className:"box-bottom"},r.a.createElement("div",{className:"box-left"},r.a.createElement("p",{className:"info-desc"},"AVG Visit Duration (s)"),r.a.createElement("p",{className:"text-info"},"9.60"))))),r.a.createElement("div",{className:"col-xl-3 col-sm-6"},r.a.createElement("section",{className:"number-card-v4 mdc-elevation--z1 mb-4"},r.a.createElement("div",{className:"box-top"},r.a.createElement("div",{className:"box-icon"},r.a.createElement("span",{className:"icon-btn icon-btn-round bg-warning text-white"},r.a.createElement(it.a,{icon:"attach_money"}))),r.a.createElement("div",{className:"box-info"},r.a.createElement("p",{className:"info-desc"},"\u5f85\u8fa6\u4e8b\u9805"),r.a.createElement("p",{className:"box-main-num"},"21\u500b\u5b8c\u6210"))),r.a.createElement("div",{className:"box-bottom"},r.a.createElement("div",{className:"box-left"},r.a.createElement("p",{className:"info-desc"},"Last Week"),r.a.createElement("p",{className:"text-warning"},"26.80%")),r.a.createElement("div",{className:"box-right"},r.a.createElement("p",{className:"info-desc"},"Last Month"),r.a.createElement("p",{className:"text-warning"},"39.33%"))))),r.a.createElement("div",{className:"col-xl-3 col-sm-6"},r.a.createElement("section",{className:"number-card-v4 mdc-elevation--z1 mb-4"},r.a.createElement("div",{className:"box-top"},r.a.createElement("div",{className:"box-icon"},r.a.createElement("span",{className:"icon-btn icon-btn-round bg-primary text-white"},r.a.createElement(it.a,{icon:"shopping_cart"}))),r.a.createElement("div",{className:"box-info"},r.a.createElement("p",{className:"info-desc"},"\u4e0b\u9031\u884c\u7a0b"),r.a.createElement("p",{className:"box-main-num"},"25.5%"))),r.a.createElement("div",{className:"box-bottom"},r.a.createElement("div",{className:"box-left"},r.a.createElement("p",{className:"info-desc"},"Last Week"),r.a.createElement("p",{className:"text-primary"},"16.50%")),r.a.createElement("div",{className:"box-right"},r.a.createElement("p",{className:"info-desc"},"Last Month"),r.a.createElement("p",{className:"text-primary"},"29.00%"))))))},st=n(1686),ut=n(1163),mt=n.n(ut),pt=n(1161),dt=n.n(pt),ft=n(467),ht=n.n(ft),bt=n(1154),yt=n.n(bt),gt=n(1150),Et=n.n(gt),vt=n(153),Nt=n.n(vt),wt=n(4),xt=n.n(wt),Ct=n(1156),St=n.n(Ct),_t=n(288),Pt=n.n(_t),Ot=n(1148),kt=n.n(Ot),jt=n(1145),Tt=n.n(jt),Ft=n(1541),Dt=n.n(Ft),Rt=n(1687),Wt=n.n(Rt),It=n(91);function Mt(e){return(Mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qt(e,t){return!t||"object"!==Mt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return(At=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Lt=[{id:"name",numeric:!1,disablePadding:!0,label:"\u540d\u5b57"},{id:"tags",numeric:!1,disablePadding:!1,label:"\u6a19\u7c64"},{id:"company",numeric:!1,disablePadding:!1,label:"\u4efb\u8077\u516c\u53f8"},{id:"income",numeric:!1,disablePadding:!1,label:"\u6536\u5165"},{id:"note_summary",numeric:!1,disablePadding:!1,label:"\u7b46\u8a18\u6458\u8981"},{id:"updated",numeric:!1,disablePadding:!1,label:"\u66f4\u65b0\u6642\u9593"}],Vt=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return qt(a,(n=a=qt(this,(e=At(t)).call.apply(e,[this].concat(o))),a.createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},n))}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.onSelectAllClick,a=t.order,o=t.orderBy,l=t.numSelected,i=t.rowCount;return r.a.createElement(St.a,null,r.a.createElement(Et.a,null,r.a.createElement(ht.a,{padding:"checkbox"},r.a.createElement(Nt.a,{indeterminate:l>0&&l<i,checked:l===i,onChange:n})),Lt.map(function(t){return r.a.createElement(ht.a,{key:t.id,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:o===t.id&&a},r.a.createElement(Tt.a,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(kt.a,{active:o===t.id,direction:a,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}])&&Bt(n.prototype,a),o&&Bt(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");zt(e.prototype,t&&t.prototype),t&&zt(e,t)}(t,e),t}(r.a.Component),Ht=function(e){var t,n,a,o=e.numSelected,l=e.classes;return r.a.createElement(Pt.a,{className:xt()(l.root,(t={},n=l.highlight,a=o>0,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))},r.a.createElement("div",{className:l.title},o>0?r.a.createElement(ke.a,{color:"inherit",variant:"subheading"},o," \u500b\u5df2\u9078\u64c7"):r.a.createElement(ke.a,{variant:"title",id:"tableTitle"},"\u5ba2\u6236\u5217\u8868")),r.a.createElement("div",{className:l.spacer}),r.a.createElement("div",{className:l.actions},o>0?r.a.createElement(Tt.a,{title:"\u522a\u9664"},r.a.createElement(Se.a,{"aria-label":"Delete"},r.a.createElement(Dt.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt.a,{title:"\u7be9\u9078\u5217\u8868"},r.a.createElement(Se.a,{"aria-label":"Filter list"},r.a.createElement(Wt.a,null))),r.a.createElement(Tt.a,null,r.a.createElement("div",{className:"search-box"},r.a.createElement("div",{className:"search-box-inner"},r.a.createElement("div",{className:"search-box-icon"},r.a.createElement(it.a,{icon:"search"})),r.a.createElement("input",{type:"text",placeholder:"search..."}),r.a.createElement("span",{className:"input-bar"})))))))};function Gt(e){return(Gt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Kt(e,t){return!t||"object"!==Gt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.getPrototypeOf||function(e){return e.__proto__})(e)}Ht=Object(b.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(It.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(Ht);var Ut=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Kt(this,Qt(t).call(this,e))).handleChange=function(e){return function(t){var a,r,o;n.setState((a={},r=e,o=t.target.value,r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o,a))}},n.handleSave=function(e){console.log(n.state);var t=n.state,a=t.email,r=t.birthday,o=t.company,l=t.name;n.props.handlers.createClient({name:l,email:a,birthday:r,company:o})},n.toggleDrawer=function(e){return function(){n.setState({isOpen:e})}},n.state={},n}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e={divContainer:{width:"400px",margin:"20px"},container:{display:"flex",flexWrap:"wrap"},textField:{width:"50px"}},t=this.state,n=t.email,a=t.birthday,o=t.company,l=t.name,c=this.props,s=c.isOpen,u=c.toggleClientDrawer;return r.a.createElement(De.a,{anchor:"right",open:s,onClose:u(!1)},r.a.createElement("div",{style:e.divContainer},r.a.createElement(ke.a,{variant:"h1",gutterBottom:!0},"\u65b0\u589e\u5ba2\u6236"),r.a.createElement("form",{className:e.container,noValidate:!0},r.a.createElement(v.a,{required:!0,label:"\u59d3\u540d",className:e.textField,value:l,onChange:this.handleChange("name"),margin:"normal"}),r.a.createElement(v.a,{id:"birthday",label:"\u751f\u65e5",value:a,className:e.textField,onChange:this.handleChange("birthday"),margin:"normal"}),r.a.createElement(v.a,{id:"email",label:"Email",type:"email",helperText:"\u932f\u8aa4email\u683c\u5f0f",value:n,className:e.textField,onChange:this.handleChange("email"),margin:"normal"}),r.a.createElement(v.a,{id:"company",label:"\u516c\u53f8",value:o,className:e.textField,onChange:this.handleChange("company"),margin:"normal"})),r.a.createElement("div",{className:"divider"}),r.a.createElement(Re.a,{color:"secondary",className:"btn-w-md",onClose:u(!1)},"\u53d6\u6d88"),r.a.createElement("div",{className:"divider"}),r.a.createElement(i.a,{variant:"contained",color:"primary",className:"btn-w-md",onClick:this.handleSave},"\u5132\u5b58")))}}])&&Jt(n.prototype,a),o&&Jt(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Xt(e.prototype,t&&t.prototype),t&&Xt(e,t)}(t,e),t}(r.a.Component);var Zt=function(e){var t=e.tags,n=e.config,a=function(){};return t.map(function(e,t){return r.a.createElement(T.a,{key:t,label:function(e){return n.tags.filter(function(t){return t.id===e})[0].name}(e),className:"table-chip bg-info px-2",onClick:a})})};function Yt(e){return(Yt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function nn(e,t){return!t||"object"!==Yt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e){return(an=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var rn={"Content-Type":"application/json",Authorization:"BEARER PS3eSI8zNXIa4m_bfc2P8Qh4XbQtgbX2bOz9qphHcKMinFmMtGpPkOtso1gKJDTvj0ZJmn9PzNEirnVPVcdlevTleq2mUuVPgsW0SnKR5GaQqrH-qmtwtTWkr77Mja0wzOATEevMPLuNWWh9e7aiP2Tqkw8Hc69BA41nB2ozrhg"},on=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=nn(this,an(t).call(this,e))).handleRequestSort=function(e,t){var a=t,r="desc";n.state.orderBy===t&&"desc"===n.state.order&&(r="asc"),n.setState({order:r,orderBy:a})},n.handleSelectAllClick=function(e,t){t?n.setState(function(e){return{selected:e.clients.map(function(e){return e.id})}}):n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected,r=a.indexOf(t),o=[];-1===r?o=o.concat(a,t):0===r?o=o.concat(a.slice(1)):r===a.length-1?o=o.concat(a.slice(0,-1)):r>0&&(o=o.concat(a.slice(0,r),a.slice(r+1))),n.setState({selected:o})},n.handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:e.target.value})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)};return n.state={order:"asc",orderBy:"name",selected:[],page:0,rowsPerPage:10,error:null,isLoaded:!1,clients:[],config:{},handlers:{createClient:function(e){fetch("https://api.cooby.co/clients/",{method:"POST",mode:"cors",headers:rn,body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(t){console.log(t),n.setState({clients:n.state.clients.concat({note_summary:t.note_summary,profile:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){$t(e,t,n[t])})}return e}({},e,{id:t.id})})})})},removeTagFromClient:function(e,t){},filterByTag:function(e){}}},n}var n,a,o;return n=t,(a=[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.cooby.co/clients/",{method:"GET",mode:"cors",headers:rn}).then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,clients:t.clients,config:t.config})},function(t){e.setState({isLoaded:!0,error:t})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.toggleClientDrawer,o=t.openClientDrawer,l=this.state,i=l.clients,c=l.order,s=l.orderBy,u=l.selected,m=l.rowsPerPage,p=l.page,d=l.config,f=l.handlers,h=m-Math.min(m,i.length-p*m);return r.a.createElement(de.a,{className:n.root},r.a.createElement(Ut,{isOpen:o,toggleClientDrawer:a,handlers:f}),r.a.createElement(Ht,{numSelected:u.length}),r.a.createElement("div",{className:n.tableWrapper},r.a.createElement(mt.a,{className:n.table,"aria-labelledby":"tableTitle"},r.a.createElement(Vt,{numSelected:u.length,order:c,orderBy:s,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:i.length}),r.a.createElement(dt.a,null,i.sort(function(e,t){return"desc"===e?function(e,n){return n[t]<e[t]?-1:1}:function(e,n){return e[t]<n[t]?-1:1}}(c,s)).slice(p*m,p*m+m).map(function(t){var n=e.isSelected(t.profile.id);return r.a.createElement(Et.a,{hover:!0,onClick:function(n){return e.handleClick(n,t.profile.id)},role:"checkbox","aria-checked":n,tabIndex:-1,key:t.profile.id,selected:n},r.a.createElement(ht.a,{padding:"checkbox"},r.a.createElement(Nt.a,{checked:n})),r.a.createElement(ht.a,{component:"th",scope:"row",padding:"none"},r.a.createElement(st.a,{to:{pathname:"/app/client/"+t.profile.id,state:{client:t,config:d,handlers:f}},className:"link-cta link-animated-hover link-hover-v1 text-primary"},t.profile.name)),r.a.createElement(ht.a,null,r.a.createElement(Zt,{tags:t.profile.tags,config:d,handlers:f})),r.a.createElement(ht.a,null,t.profile.company),r.a.createElement(ht.a,null,d.income[t.profile.income]),r.a.createElement(ht.a,null,t.profile.note_summary),r.a.createElement(ht.a,null,t.profile.updated))}),h>0&&r.a.createElement(Et.a,{style:{height:49*h}},r.a.createElement(ht.a,{colSpan:6}))))),r.a.createElement(yt.a,{component:"div",count:i.length,rowsPerPage:m,page:p,labelRowsPerPage:"\u6bcf\u9801\u6578\u76ee",backIconButtonProps:{"aria-label":"\u4e0a\u4e00\u9801"},nextIconButtonProps:{"aria-label":"\u4e0b\u4e00\u9801"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}])&&tn(n.prototype,a),o&&tn(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");en(e.prototype,t&&t.prototype),t&&en(e,t)}(t,e),t}(r.a.Component),ln=Object(b.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}}})(on);n(1694);function cn(e){return(cn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function un(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function mn(e,t){return!t||"object"!==cn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.getPrototypeOf||function(e){return e.__proto__})(e)}n.d(t,"default",function(){return dn});var dn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=mn(this,pn(t).call(this))).toggleClientDrawer=function(t){return function(){e.setState({openClientDrawer:t})}},e.state={clients:[],error:null,isLoaded:!1,openClientDrawer:!1},e}var n,a,l;return n=t,(a=[{key:"render",value:function(){var e=this.props.match,t=this.state,n=(t.error,t.isLoaded,t.clients),a=t.openClientDrawer;return r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(s.a,{path:"".concat(e.path,"/:clientId"),component:lt}),r.a.createElement(s.a,{path:e.path},r.a.createElement("div",{className:"container-fluid no-breadcrumb page-dashboard"},r.a.createElement(o.a,{type:"bottom",className:"ui-animate"},r.a.createElement(i.a,{variant:"contained",color:"primary",className:"btn-w-md",onClick:this.toggleClientDrawer(!0)},"\u65b0\u589e\u5ba2\u6236"),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{key:"1"},r.a.createElement(ct,null)),r.a.createElement("div",{key:"2"},r.a.createElement(ln,{clients:n,toggleClientDrawer:this.toggleClientDrawer,openClientDrawer:a})))))))}}])&&un(n.prototype,a),l&&un(n,l),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");sn(e.prototype,t&&t.prototype),t&&sn(e,t)}(t,e),t}(r.a.Component)},1694:function(e,t,n){}}]);
//# sourceMappingURL=14.45e1a060.chunk.js.map