(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1662:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(350),i=n(1645),l=n(80),c=n(338),s=n.n(c),u=n(188),m=n.n(u),d=n(1684),p=n.n(d),f=n(57),h=n(131),g=n.n(h),b=n(53),y=n.n(b),v=(n(1683),n(1703)),E=n(177),C=n.n(E),w=n(501),N=n.n(w),x=n(335),S=n.n(x),O=n(296),_=n.n(O),k=n(158),j=n.n(k),P=n(577),T=n.n(P);function D(e){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return!t||"object"!==D(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var W={PaperProps:{style:{maxHeight:224,width:250}}},M=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=R(this,I(t).call(this,e))).getTagName=function(e){return n.props.tagOptions.find(function(t){return t.id==e}).name},n.handleDelete=function(e){return function(){var t=n.state.tags.filter(function(t){return t!==e});n.setState({tags:t}),n.props.onChange&&n.props.onChange({target:{value:t}})}},n.handleChange=function(e){console.log(e.target),n.setState({tags:e.target.value}),n.props.onChange&&n.props.onChange(e)},n.state={tags:e.tags||[]},n}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.theme,o=t.tagOptions,i=t.title,l=this.state.tags;return r.a.createElement("div",{className:n.root},r.a.createElement(S.a,{className:n.formControl},i&&r.a.createElement(N.a,{htmlFor:"select-multiple-chip"},i),r.a.createElement(_.a,{multiple:!0,value:l,onChange:this.handleChange,input:r.a.createElement(C.a,{id:"select-multiple-chip"}),renderValue:function(t){return r.a.createElement("div",{className:n.chips},t.map(function(t){return r.a.createElement(T.a,{key:t,label:e.getTagName(t),className:n.chip,onDelete:e.handleDelete(t)})}))},MenuProps:W},o.map(function(e){return r.a.createElement(g.a,{key:e.id,value:e.id,style:{fontWeight:void 0===l.indexOf(e.id)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}},r.a.createElement(j.a,{checked:l.indexOf(e.id)>-1}),e.name)}))))}}])&&L(n.prototype,a),o&&L(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");F(e.prototype,t&&t.prototype),t&&F(e,t)}(t,e),t}(r.a.Component),A=Object(f.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:400,maxWidth:"80%"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:e.spacing.unit/4}}},{withTheme:!0})(M),B=n(1560);function V(e){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function q(e,t){return!t||"object"!==V(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Q(e,t,n[t])})}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U={container:function(e,t){return H({},e,{borderTop:"0px",borderLeft:"0px",borderRight:"0px"})}},K=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return q(a,(n=a=q(this,(e=G(t)).call.apply(e,[this].concat(o))),a.getOptionLabel=function(e){var t=a.props.options.find(function(t){return t.id===e});return t?t.name:e},a.state={isLoading:!1,value:a.props.tags.map(function(e){return{value:e,label:a.getOptionLabel(e)}})},a.convertTagsToOptions=function(e){return e.map(function(e){return{label:e.name,value:e.id}})},a.convertOptionsToTags=function(e){return e&&e.map(function(e){return e.value})||[]},a.handleChange=function(e,t){console.group("Value Changed"),console.log(e),console.log("action: ".concat(t.action)),console.groupEnd(),a.setState({value:e}),a.props.handleChange({target:{value:a.convertOptionsToTags(e)}})},a.handleCreate=function(e){a.setState({isLoading:!0}),console.group("Creating option"),console.log(e),console.groupEnd(),a.props.handleCreateTag(e).then(function(e){console.log(e),a.setState({isLoading:!1});var t=a.state.value;a.handleChange(t.concat(a.convertTagsToOptions([e])),{action:"create-option"})},function(e){})},n))}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.value,a=this.convertTagsToOptions(this.props.options);return r.a.createElement(B.a,{className:this.props.classes.tagField,title:this.props.title,variant:"standard",placeholder:this.props.placeholder,styles:U,isClearable:!0,isMulti:!0,formatCreateLabel:this.props.formatCreateLabel,isDisabled:t,isLoading:t,onChange:this.handleChange,onCreateOption:this.handleCreate,options:a,value:n,theme:function(e){return H({},e,{colors:H({},e.colors,{primary25:"#eceafc",primary50:"#eceafc",primary75:"#eceafc",primary:"#5124EF"})})}})}}])&&J(n.prototype,a),o&&J(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");z(e.prototype,t&&t.prototype),t&&z(e,t)}(t,e),t}(a.Component),X=Object(f.withStyles)(function(e){return{tagField:{margin:e.spacing.unit,width:"90%"}}})(K),Y=n(95),Z=n.n(Y),$=n(58),ee=n.n($),te=n(98),ne=n.n(te),ae=n(344),re=n.n(ae),oe=n(243),ie=n.n(oe);function le(e){return(le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ue(e,t){return!t||"object"!==le(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var de=function(e){return{dialog:{width:300},tagField:{margin:e.spacing.unit,width:"90%"}}};var pe=Object(f.withStyles)(de)(function(e){var t=e.handleClose,n=e.handleClick,a=e.open,o=e.relations,i=e.classes;return r.a.createElement(ie.a,{onClose:t,"aria-labelledby":"simple-dialog-title",open:a,className:i.dialog},r.a.createElement(re.a,{id:"simple-dialog-title"},"\u9078\u64c7\u95dc\u4fc2"),r.a.createElement(Z.a,null,Object.keys(o).map(function(e){return r.a.createElement(ee.a,{button:!0,onClick:function(){return n(e)},key:e},r.a.createElement(ne.a,{primary:o[e]}))})))}),fe=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ue(a,(n=a=ue(this,(e=me(t)).call.apply(e,[this].concat(o))),a.getOptionLabel=function(e,t){return a.props.options.find(function(t){return t.id===e}).name+"("+a.props.relations[t]+")"},a.state={openDialog:!1,isLoading:!1,newClientName:null,value:(a.props.relatedClients||[]).map(function(e){return{relation:e.relation,value:e.id,label:a.getOptionLabel(e.id,e.relation)}})},a.convertTagsToOptions=function(e){return e.map(function(e){return{label:e.name,value:e.id}})},a.convertValueToTags=function(e){return e&&e.map(function(e){return{relation:e.relation,id:e.value}})||[]},a.handleChange=function(e,t){console.group("Value Changed"),console.log(e),console.log("action: ".concat(t.action)),console.groupEnd(),"select-option"===t.action?a.setState({openDialog:!0,newRelation:e.pop()}):(a.setState({value:e}),a.props.onChange({target:{value:a.convertValueToTags(e)}}))},a.handleCreate=function(e){a.setState({isLoading:!0,newClientName:e}),console.group("Creating option"),console.log(e),console.groupEnd(),a.setState({openDialog:!0})},a.updateRelation=function(e){var t=a.state.value.concat(e);a.setState({value:t,openDialog:!1,isLoading:!1,newClientName:null,newRelation:null}),a.props.onChange({target:{value:a.convertValueToTags(t)}})},a.handleCloseDialog=function(e){a.setState({openDialog:!1,isLoading:!1,newClientName:null,newRelation:!1})},a.handleClickDialog=function(e){a.state.newClientName&&a.state.newClientName.length>0?a.props.createClient({name:a.state.newClientName}).then(function(t){console.group("Add New Client"),console.log(t),console.log(e),console.groupEnd(),a.updateRelation({relation:e,value:t.id,label:a.state.newClientName+"("+a.props.relations[e]+")"})}):(console.group("Add Existing Client"),console.log(a.state.newRelation),console.log(e),console.groupEnd(),a.updateRelation({value:a.state.newRelation.value,label:a.getOptionLabel(a.state.newRelation.value,e),relation:e}))},n))}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.value,a=e.openDialog,o=this.props,i=o.classes,l=o.relations,c=this.convertTagsToOptions(this.props.options);return console.log(this.props.relatedClients),r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{open:a,relations:l,handleClose:this.handleCloseDialog,handleClick:this.handleClickDialog}),r.a.createElement(B.a,{variant:"standard",className:i.tagField,placeholder:"\u9078\u64c7\u76f8\u95dc\u5ba2\u6236",isClearable:!0,isMulti:!0,formatCreateLabel:this.props.formatCreateLabel,isDisabled:t,isLoading:t,onChange:this.handleChange,onCreateOption:this.handleCreate,options:c,value:n}))}}])&&se(n.prototype,a),o&&se(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");ce(e.prototype,t&&t.prototype),t&&ce(e,t)}(t,e),t}(a.Component),he=Object(f.withStyles)(de)(fe),ge=(n(1688),n(111));function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e){return(ye="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Ce(e.prototype,t&&t.prototype),t&&Ce(e,t)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ne(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),e}function xe(e,t){return!t||"object"!==ye(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return(Se=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Oe=function(){return r.a.createElement("div",{className:"ball-grid-pulse"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},_e=function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"90%"},leftIcon:{marginRight:e.spacing.unit}}},ke=function(e){function t(){return ve(this,t),xe(this,Se(t).apply(this,arguments))}return Ne(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.config,a=e.profile,o=e.handleChange,i=e.handleCreateTag;e.addToConfig;return r.a.createElement(v.a,{container:!0,spacing:2},r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(y.a,{required:!0,id:"name",label:"\u59d3\u540d",className:t.textField,value:a.name,onChange:o("name"),margin:"normal"})),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement("div",{className:"picker"},r.a.createElement(y.a,{className:t.textField,InputLabelProps:{shrink:!0},placeholder:"\u8acb\u9078\u751f\u65e5",type:"date",label:"\u751f\u65e5",value:a.birthday,onChange:o("birthday"),margin:"normal"}))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(X,{title:"\u6a19\u7c64",placeholder:"\u9078\u64c7\u6a19\u7c64",formatCreateLabel:function(e){return"\u65b0\u589e\u6a19\u7c64\uff1a"+e},tags:a.tags,options:n.tags,handleCreateTag:i("tags"),handleChange:o("tags"),label:"Tag"})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,{id:"email",label:"Email",type:"email",value:a.email,className:t.textField,onChange:o("email"),margin:"normal"})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,{id:"cell_phone",label:"\u96fb\u8a71\u865f\u78bc",className:t.textField,onChange:o("cell_phone"),value:a.cell_phone,type:"tel",margin:"normal"})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,{id:"company",label:"\u4efb\u8077\u516c\u53f8/\u8077\u7a31",value:a.company,className:t.textField,onChange:o("company"),margin:"normal"})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(y.a,{id:"address",label:"\u5730\u5740",value:a.address,className:t.textField,onChange:o("address"),margin:"normal"})),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(y.a,{id:"income",select:!0,label:"\u6708\u6536\u5165",className:t.textField,value:String(a.income),onChange:o("income"),helperText:"\u8acb\u9078\u64c7\u6536\u5165",margin:"normal"},Object.keys(n.income).map(function(e){return r.a.createElement(g.a,{key:e,value:e},n.income[e])}))),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(y.a,{id:"source",select:!0,label:"\u8a8d\u8b58\u65b9\u5f0f",className:t.textField,value:String(a.source),onChange:o("source"),SelectProps:{MenuProps:{className:t.menu}},helperText:"\u8acb\u9078\u64c7\u8a8d\u8b58\u65b9\u5f0f",margin:"normal"},Object.keys(n.source).map(function(e){return r.a.createElement(g.a,{key:e,value:e},n.source[e])}))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(X,{id:"interests",title:"\u4f11\u9592\u8208\u8da3",placeholder:"\u9078\u64c7\u4f11\u9592\u8208\u8da3",formatCreateLabel:function(e){return"\u65b0\u589e\u4f11\u9592\u8208\u8da3\uff1a"+e},tags:a.interests,options:n.interests,handleCreateTag:i("interests"),handleChange:o("interests"),label:"Interests"})))}}]),Ee(t,e),t}(r.a.Component),je=function(e){function t(){return ve(this,t),xe(this,Se(t).apply(this,arguments))}return Ne(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.config,a=e.profile,o=e.handleChange;e.handleCreateTag,e.addToConfig;return r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(y.a,{select:!0,id:"is_insured",label:"\u6709\u4fdd\u96aa\uff1f",className:t.textField,value:String(a.is_insured),SelectProps:{MenuProps:{className:t.menu}},onChange:o("is_insured"),margin:"normal"},Object.keys(n.is_insured).map(function(e){return r.a.createElement(g.a,{key:e,value:e},n.is_insured[e])})),r.a.createElement(A,{id:"insurance_companies",title:"\u6295\u4fdd\u516c\u53f8",tags:a.insurance_companies,tagOptions:n.insurance_companies,onChange:o("insurance_companies"),label:"\u6295\u4fdd\u516c\u53f8"}),r.a.createElement(A,{id:"insurances_of_interest",title:"\u6709\u8208\u8da3\u4fdd\u96aa\u7a2e\u985e",tags:a.insurances_of_interest,tagOptions:n.insurances_of_interest,onChange:o("insurances_of_interest"),label:"\u6709\u8208\u8da3\u4fdd\u96aa\u7a2e\u985e"}))}}]),Ee(t,e),t}(r.a.Component),Pe=function(e){function t(){return ve(this,t),xe(this,Se(t).apply(this,arguments))}return Ne(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.config,e.profile),a=e.handleChange;e.handleCreateTag,e.addToConfig;return r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(y.a,{multiline:!0,InputLabelProps:{shrink:!0},fullWidth:!0,id:"financial_plan",value:n.financial_plan||void 0,onChange:a("financial_plan"),className:t.textField,margin:"normal",variant:"outlined"}))}}]),Ee(t,e),t}(r.a.Component),Te=function(e){function t(){return ve(this,t),xe(this,Se(t).apply(this,arguments))}return Ne(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.config,a=e.profile,o=e.clientOptions,i=e.handleChange,l=e.createClient;e.addToConfig;return r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(y.a,{select:!0,id:"marital_status",label:"\u5a5a\u59fb\u72c0\u6cc1",value:String(a.marital_status),className:t.textField,onChange:i("marital_status"),SelectProps:{MenuProps:{className:t.menu}},margin:"normal"},Object.keys(n.marital_status).map(function(e){return r.a.createElement(g.a,{key:e,value:e},n.marital_status[e])})),r.a.createElement(he,{title:"\u5ef6\u4f38\u89aa\u53cb\u540d\u55ae",className:t.tagField,relatedClients:a.related_clients,formatCreateLabel:function(e){return"\u65b0\u589e\u5ba2\u6236\uff1a"+e},relations:n.client_relation,options:o,createClient:l,onChange:i("related_clients"),id:"related_clients"}))}}]),Ee(t,e),t}(r.a.Component),De=function(e){function t(){return ve(this,t),xe(this,Se(t).apply(this,arguments))}return Ne(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.config,e.profile);e.handleChange,e.handleCreateTag,e.addToConfig;return r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(y.a,{multiline:!0,InputLabelProps:{shrink:!0},fullWidth:!0,id:"appendix",label:"\u5099\u8a3b",variant:"outlined",value:n.appendix||void 0,className:t.textField,margin:"normal"}))}}]),Ee(t,e),t}(r.a.Component),Fe=Object(f.withStyles)(_e)(ke),Le=Object(f.withStyles)(_e)(je),Re=Object(f.withStyles)(_e)(Pe),Ie=Object(f.withStyles)(_e)(Te),We=Object(f.withStyles)(_e)(De),Me=function(e){function t(e){var n;return ve(this,t),(n=xe(this,Se(t).call(this,e))).fetchClient=function(e){fetch("https://api.cooby.co/clients/",{method:"GET",mode:"cors",headers:Object(ge.d)()}).then(function(e){return e.json()}).then(function(t){var a=t.clients.filter(function(t){return t.profile.id===e})[0];n.setState({isLoaded:!0,profile:a.profile,clientOptions:t.clients.map(function(e){return{id:e.profile.id,name:e.profile.name}}),config:t.config}),n.props.handlers.updateClientName(a.profile.name)},function(e){n.setState({isLoaded:!1,error:e})})},n.createClient=function(e){var t=n.state.clientOptions;return new Promise(function(a,r){fetch("https://api.cooby.co/clients/",{method:"POST",mode:"cors",headers:Object(ge.d)(),body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(r){console.log(r);var o={id:r.id,name:e.name},i=t.concat();n.setState({clientOptions:i}),a(o)},function(e){console.log(e),r(e)})})},n.handleCreateTag=function(e){return function(t){var a="https://api.cooby.co/"+e+"/";return new Promise(function(r,o){fetch(a,{method:"POST",mode:"cors",headers:Object(ge.d)(),body:JSON.stringify({name:t})}).then(function(e){return e.json()}).then(function(a){var o={id:a.id,name:t};n.addToConfig(e,o),r(o)},function(e){n.setState({error:e}),o(e)})})}},n.handleChange=function(e){return function(t){var a=t.target.value;n.setState(function(t){return{profile:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){be(e,t,n[t])})}return e}({},t.profile,be({},e,a))}});var r=be({id:n.state.profile.id},e,a);fetch("https://api.cooby.co/clients/"+r.id,{method:"PUT",mode:"cors",headers:Object(ge.d)(),body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){console.log(e)}),"name"==e&&n.props.handlers.updateClientName(a)}},n.addToConfig=function(e,t){var a=n.state.config;a[e].push(t),n.setState({config:a})},n.state={isLoaded:!1},n}return Ne(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.clientId!==e.clientId||t!==this.state}},{key:"componentDidMount",value:function(){this.fetchClient(this.props.clientId)}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,n=e.profile,a=e.config,o=e.clientOptions,i=this.props.clientId;return t?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("article",{className:"article pt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-6"},r.a.createElement("div",{className:"box box-default mb-3"},r.a.createElement("div",{className:"box-header"},"\u57fa\u672c\u8cc7\u6599"),r.a.createElement("div",{className:"box-divider"}),r.a.createElement("div",{className:"box-body"},r.a.createElement(Fe,{key:i,profile:n,config:a,handleChange:this.handleChange,addToConfig:this.addToConfig,handleCreateTag:this.handleCreateTag}))),r.a.createElement("div",{className:"box box-default mb-3"},r.a.createElement("div",{className:"box-header"},"\u4fdd\u96aa\u72c0\u6cc1"),r.a.createElement("div",{className:"box-divider"}),r.a.createElement("div",{className:"box-body"},r.a.createElement(Le,{key:i,profile:n,config:a,handleChange:this.handleChange,addToConfig:this.addToConfig,handleCreateTag:this.handleCreateTag})))),r.a.createElement("div",{className:"col-xl-6"},r.a.createElement("div",{className:"box box-default mb-3"},r.a.createElement("div",{className:"box-header"},"\u8ca1\u52d9\u898f\u5283"),r.a.createElement("div",{className:"box-divider"}),r.a.createElement("div",{className:"box-body"},r.a.createElement(Re,{key:i,profile:n,config:a,handleChange:this.handleChange,addToConfig:this.addToConfig,handleCreateTag:this.handleCreateTag}))),r.a.createElement("div",{className:"box box-default mb-3"},r.a.createElement("div",{className:"box-header"},"\u5a5a\u59fb\u8207\u5bb6\u5ead"),r.a.createElement("div",{className:"box-divider"}),r.a.createElement("div",{className:"box-body"},r.a.createElement(Ie,{key:i,profile:n,config:a,clientOptions:o,handleChange:this.handleChange,addToConfig:this.addToConfig,createClient:this.createClient}))),r.a.createElement("div",{className:"box box-default mb-3"},r.a.createElement("div",{className:"box-header"},"\u5099\u8a3b"),r.a.createElement("div",{className:"box-divider"}),r.a.createElement("div",{className:"box-body"},r.a.createElement(We,{key:i,profile:n,config:a,handleChange:this.handleChange,addToConfig:this.addToConfig}))))))):r.a.createElement(v.a,{container:!0,justify:"center"},r.a.createElement(v.a,{item:!0,xs:3},r.a.createElement("div",{className:"m-10"},r.a.createElement(Oe,null))))}}]),Ee(t,e),t}(r.a.Component),Ae=n(75),Be=n.n(Ae),Ve=n(38),ze=n.n(Ve),Je=n(60),qe=n.n(Je),Ge=n(579),He=n.n(Ge),Qe=n(576),Ue=n.n(Qe),Ke=n(352);function Xe(e){return(Xe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Ze(e,t,n[t])})}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function tt(e,t){return!t||"object"!==Xe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var at=function(e){var t=e.note,n=e.classes,a=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{label:"\u5730\u9ede",className:n.textField,value:t.location,onChange:a(!1,"location"),margin:"normal"}),r.a.createElement(y.a,{required:!0,id:"date",label:"\u65e5\u671f",InputLabelProps:{shrink:!0},type:"date",value:t.date,className:n.textField,onChange:a(!1,"date"),margin:"normal"}),r.a.createElement(y.a,{id:"appendix",label:"\u5099\u8a3b",value:t.appendix,variant:"outlined",className:n.textField,onChange:a(!1,"appendix"),margin:"normal"}))},rt=function(e){var t=e.note,n=e.classes,a=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"divider divider-solid border-dark mb-4"}),r.a.createElement(qe.a,{variant:"subheading",gutterBottom:!0},"\u905e\u9001\u7d30\u7bc0"),r.a.createElement(y.a,{id:"sent_time",label:"\u905e\u9001\u65e5\u671f",type:"date",InputLabelProps:{shrink:!0},value:t.additional_data.sent_time,className:n.textField,onChange:a(!0,"sent_time"),margin:"normal"}),r.a.createElement(y.a,{id:"sent_content",label:"\u905e\u9001\u5167\u5bb9",value:t.additional_data.sent_content,className:n.textField,onChange:a(!0,"sent_content"),margin:"normal"}))},ot=function(e){var t=e.note,n=e.classes,a=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"divider divider-solid border-dark mb-4"}),r.a.createElement(qe.a,{variant:"subheading",gutterBottom:!0},"\u7406\u8ce0\u7d30\u7bc0"),r.a.createElement(y.a,{id:"claim_time",label:"\u7406\u8ce0\u65e5\u671f",type:"date",InputLabelProps:{shrink:!0},value:t.additional_data.claim_time,className:n.textField,onChange:a(!0,"claim_time"),margin:"normal"}),r.a.createElement(y.a,{id:"claim_content",label:"\u7406\u8ce0\u5167\u5bb9",value:t.additional_data.claim_content,className:n.textField,onChange:a(!0,"claim_content"),margin:"normal"}))},it=function(e){var t=e.note,n=e.classes,a=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"divider divider-solid border-dark mb-4"}),r.a.createElement(qe.a,{variant:"subheading",gutterBottom:!0},"\u7c3d\u7d04\u7d30\u7bc0"),r.a.createElement(y.a,{id:"signed_time",label:"\u7c3d\u7d04\u65e5\u671f",InputLabelProps:{shrink:!0},type:"date",value:t.additional_data.signed_time,className:n.textField,onChange:a(!0,"signed_time"),margin:"normal"}),r.a.createElement(y.a,{id:"signed_content",label:"\u7c3d\u7d04\u5167\u5bb9",value:t.additional_data.signed_content,className:n.textField,onChange:a(!0,"signed_content"),margin:"normal"}))},lt=function(e){var t=e.note,n=e.classes,a=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"divider divider-solid border-dark mb-4"}),r.a.createElement(y.a,{id:"current_insurance",label:"\u4fdd\u96aa\u72c0\u6cc1",value:t.additional_data.current_insurance,className:n.textField,onChange:a(!0,"current_insurance"),margin:"normal"}))},ct=function(e){var t=e.note,n=e.classes,a=e.handleChange;switch(String(t.note_type)){case"1":return r.a.createElement(lt,{note:t,classes:n,handleChange:a});case"2":return r.a.createElement(rt,{note:t,classes:n,handleChange:a});case"3":return r.a.createElement(it,{note:t,classes:n,handleChange:a});case"4":return r.a.createElement(ot,{note:t,classes:n,handleChange:a});default:return r.a.createElement(r.a.Fragment,null)}},st=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return tt(a,(n=a=tt(this,(e=nt(t)).call.apply(e,[this].concat(o))),a.state={note:Ye({},a.props.note,{additional_data:Ye({},a.props.note.additional_data)})||{additional_data:{}}},a.handleChange=function(e,t){return function(n){var r=a.state.note;e?r.additional_data[t]=n.target.value:r[t]=n.target.value,a.setState({note:r})}},a.handleSave=function(e){a.props.handleSaveNote(a.state.note)},a.handleDelete=function(e){e.preventDefault(),a.props.handleDeleteNote(a.state.note.id)},n))}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this.state.note,t=this.props,n=t.mode,a=t.classes,o=t.isOpen,i=t.handleClose,l=t.config;return r.a.createElement(Ue.a,{anchor:"right",open:o,onClose:i},r.a.createElement("div",{className:a.divContainer},r.a.createElement(Be.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(qe.a,{variant:"title",gutterBottom:!0},"create"===n?"\u65b0\u589e":"\u7de8\u8f2f",l.note_type[e.note_type])),r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(y.a,{label:"\u6a19\u984c",className:a.textField,InputProps:{classes:{input:{fontSize:50}}},value:e.title,onChange:this.handleChange(!1,"title"),margin:"normal"})),r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(at,{note:e,classes:a,handleChange:this.handleChange})),r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(ct,{note:e,classes:a,handleChange:this.handleChange})),r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement("div",{className:a.drawerActionButtons},r.a.createElement("div",{className:"divider divider-solid border-dark"}),r.a.createElement(Be.a,{container:!0,justify:"space-between",alignItems:"flex-end"},r.a.createElement(Be.a,{item:!0},"edit"===n&&r.a.createElement(ze.a,{color:"primary",onClick:this.handleDelete},"\u522a\u9664")),r.a.createElement(Be.a,{item:!0},r.a.createElement(Ke.a,{color:"secondary",size:"medium",className:a.button,onClick:i},"\u53d6\u6d88"),r.a.createElement(ze.a,{variant:"contained",color:"primary",size:"medium",className:a.button,onClick:this.handleSave},"\u5132\u5b58"))))))))}}])&&et(n.prototype,a),o&&et(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");$e(e.prototype,t&&t.prototype),t&&$e(e,t)}(t,e),t}(r.a.Component),ut=Object(f.withStyles)(function(e){return{divContainer:{width:300,padding:2*e.spacing.unit},textField:{width:"80%"},button:{marginLeft:e.spacing.unit/2,marginRight:e.spacing.unit/2},drawerActionButtons:{width:270,position:"fixed",bottom:2*e.spacing.unit}}})(st),mt=n(1256),dt=n.n(mt),pt=n(1254),ft=n.n(pt),ht=n(1252),gt=n.n(ht);function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){yt(e,t,n[t])})}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e){return(vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");wt(e.prototype,t&&t.prototype),t&&wt(e,t)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xt(e,t,n){return t&&Nt(e.prototype,t),n&&Nt(e,n),e}function St(e,t){return!t||"object"!==vt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var _t=function(e){function t(){var e,n,a;Et(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return St(a,(n=a=St(this,(e=Ot(t)).call.apply(e,[this].concat(o))),a.state={AnchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.handleMenuItemClick=function(e){a.setState({anchorEl:null}),a.props.openDrawer({note_type:e.target.value,additional_data:{}})},n))}return xt(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,n=this.props.noteTypes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{"aria-controls":"simple-menu","aria-haspopup":"true",variant:"contained",color:"primary",className:"btn-w-md",onClick:this.handleClick},"\u65b0\u589e\u6703\u8b70\u7d00\u9304"),r.a.createElement(He.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:this.handleClose},Object.keys(n).map(function(t){return r.a.createElement(g.a,{key:t,value:t,onClick:e.handleMenuItemClick},n[t])})))}}]),Ct(t,e),t}(r.a.Component),kt=Object(f.withStyles)(function(e){return{root:{minWidth:200,maxWidth:600,margin:e.spacing.unit},title:{fontSize:14},pos:{marginBottom:12}}})(function(e){var t=e.title,n=e.appendix,a=e.date,o=e.classes;return r.a.createElement(dt.a,{className:o.root},r.a.createElement(gt.a,null,r.a.createElement(qe.a,{className:o.title,variant:"subheading",gutterBottom:!0},t),r.a.createElement(qe.a,{className:o.pos,color:"textSecondary"},a),r.a.createElement(qe.a,{variant:"body2",component:"p"},n)),r.a.createElement(ft.a,null,r.a.createElement(ze.a,{size:"small"},"\u7de8\u8f2f")))}),jt=function(e){function t(){var e,n,a;Et(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return St(a,(n=a=St(this,(e=Ot(t)).call.apply(e,[this].concat(o))),a.collectionEndpoint="https://api.cooby.co/clients/"+a.props.clientId+"/notes/",a.state={notes:[],mode:"create",openNoteDrawer:!1,selectedNote:{additional_data:{}},config:{note_type:{0:"\u7a7a\u767d\u7b46\u8a18",1:"\u4e00\u822c\u7b46\u8a18",2:"\u905e\u9001\u5efa\u8b70\u66f8",3:"\u4fdd\u96aa\u7c3d\u7d04",4:"\u4fdd\u96aa\u7406\u8ce0"}}},a.fetchNotes=function(){fetch(a.collectionEndpoint,{method:"GET",mode:"cors",headers:Object(ge.d)()}).then(function(e){return e.json()}).then(function(e){a.setState({notes:e.notes})},function(e){a.setState({error:e})})},a.openDrawer=function(e){return function(t){console.log(t),console.log(e),a.setState({openNoteDrawer:!0,selectedNote:t,mode:e,drawerKey:t.id?t.id:Math.random()})}},a.handleNoteClick=function(e){return function(t){console.log(e),a.openDrawer("edit")(e)}},a.handleClose=function(){a.setState({openNoteDrawer:!1})},a.handleDeleteNote=function(e){var t=a.collectionEndpoint+e;console.log(t),fetch(t,{method:"DELETE",mode:"cors",headers:Object(ge.d)(),body:JSON.stringify({})}).then(function(t){if(t.ok){var n=a.state.notes,r=n.findIndex(function(t){return t.id===e});n.splice(r,1),a.setState({notes:n})}else t.json().then(function(e){console.log(e)});a.handleClose()})},a.handleSaveNote=function(e){console.log(e);var t="edit"===a.state.mode?a.collectionEndpoint+e.id:a.collectionEndpoint;fetch(t,{method:"edit"===a.state.mode?"put":"post",mode:"cors",headers:Object(ge.d)(),body:JSON.stringify(e)}).then(function(e){return e.ok&&"edit"===a.state.mode?(console.log("edittttt"),new Promise(function(e,t){e({})})):(console.log("new!"),e.json())}).then(function(t){if(console.log(t),"edit"===a.state.mode){var n=a.state.notes.findIndex(function(t){return t.id===e.id});if(n){var r=a.state.notes[n],o=a.state.notes;o[n]=bt({},r,e),a.setState({notes:o})}}else a.setState({notes:a.state.notes.concat(bt({id:t.id},e))});a.handleClose()},function(e){console.log(e),a.setState({error:e})})},n))}return xt(t,[{key:"componentDidMount",value:function(){this.fetchNotes()}},{key:"render",value:function(){var e=this.state,t=e.notes,n=e.selectedNote,a=e.mode,o=e.openNoteDrawer,i=e.config,l=e.drawerKey,c=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{key:l,isOpen:o,mode:a,note:n,handleClose:this.handleClose,handleSaveNote:this.handleSaveNote,handleDeleteNote:this.handleDeleteNote,config:i}),r.a.createElement(Be.a,{container:!0,spacing:2},r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement("div",{className:c.row},r.a.createElement(_t,{noteTypes:i.note_type,openDrawer:this.openDrawer("create")}))),t.map(function(e,t){return r.a.createElement(Be.a,{item:!0,xs:12,key:e.id},r.a.createElement(kt,{title:e.title,appendix:e.appendix,date:e.date}))})))}}]),Ct(t,e),t}(r.a.Component),Pt=Object(f.withStyles)(function(e){return{row:{minWidth:200,maxWidth:600,margin:e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"100%"},root:{width:"100%",backgroundColor:e.palette.background.paper},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},date:{fontSize:e.typography.pxToRem(13),fontWeight:e.typography.fontWeightRegular}}})(jt),Tt=n(1550);function Dt(e){return(Dt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Rt(e,t){return!t||"object"!==Dt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Wt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Rt(this,It(t).call(this,e))).updateClientName=function(e){n.setState({name:e})},n.fetchTasks=function(){fetch("https://api.cooby.co/clients/"+n.state.clientId+"/tasks/",{method:"GET",mode:"cors",headers:Object(ge.d)()}).then(function(e){return e.json()}).then(function(e){n.setState({tasks:e.tasks})},function(e){n.setState({error:e})})},n.handleTabChange=function(e,t){n.setState({tabIndex:t})},n.handleChangeIndex=function(e){n.setState({tabIndex:e})};var a=n.props.location.pathname.replace("/app/client/","");return n.state={clientId:a,name:null,error:null,isLoaded:!1,tabIndex:0,handlers:{updateClientName:n.updateClientName}},n}var n,a,i;return n=t,(a=[{key:"componentDidMount",value:function(){this.fetchTasks()}},{key:"render",value:function(){var e=this.state,t=e.clientId,n=e.name,a=e.tabIndex,i=(e.isLoaded,e.handlers);return r.a.createElement("section",{className:"page-with-tabs"},r.a.createElement(o.a,{type:"bottom",className:"ui-animate"},r.a.createElement("div",{key:"1"},r.a.createElement("div",{className:"page-header-title"}," ",n||"\u672a\u547d\u540d"," ")),r.a.createElement("div",{key:"2"},r.a.createElement(s.a,{value:a,onChange:this.handleTabChange,className:"page-tabs"},r.a.createElement(m.a,{label:"\u57fa\u672c\u8cc7\u6599"}),r.a.createElement(m.a,{label:"\u6703\u8b70\u8a18\u9304"}),r.a.createElement(m.a,{label:"\u5f85\u8fa6\u4e8b\u9805"})),r.a.createElement(p.a,{index:a,onChangeIndex:this.handleChangeIndex},r.a.createElement(Me,{key:t+"-profile",clientId:t,handlers:i}),r.a.createElement(function(){return r.a.createElement("div",{className:"container-fluid no-breadcrumb container-mw-md chapter"},r.a.createElement("article",{className:"article"},r.a.createElement(o.a,{type:"bottom",className:"ui-animate"},r.a.createElement("div",{key:"1",className:"mb-3"}," ",r.a.createElement(Pt,{clientId:t})," "))))},{key:t+"-note"}),r.a.createElement(function(){return r.a.createElement("div",{className:"container-fluid pt-3"},r.a.createElement(Tt.a,{clientId:t,isUnderClient:!0}))},{key:t+"-task"})))))}}])&&Lt(n.prototype,a),i&&Lt(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Ft(e.prototype,t&&t.prototype),t&&Ft(e,t)}(t,e),t}(r.a.Component),Mt=n(17),At=function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-3 col-sm-6"},r.a.createElement("section",{className:"number-card-v4 mdc-elevation--z1 mb-4"},r.a.createElement("div",{className:"box-top"},r.a.createElement("div",{className:"box-icon"},r.a.createElement("span",{className:"icon-btn icon-btn-round bg-success text-white"},r.a.createElement(Mt.a,{icon:"pageview"}))),r.a.createElement("div",{className:"box-info"},r.a.createElement("p",{className:"info-desc"},"\u5ba2\u6236\u6578\u91cf"),r.a.createElement("p",{className:"box-main-num"},"+3"))),r.a.createElement("div",{className:"box-bottom"},r.a.createElement("div",{className:"box-left"},r.a.createElement("p",{className:"info-desc"},"Pages/Visit"),r.a.createElement("p",{className:"text-success"},"8.55")),r.a.createElement("div",{className:"box-right"},r.a.createElement("p",{className:"info-desc"},"% New Vist"),r.a.createElement("p",{className:"text-success"},"56.23%"))))),r.a.createElement("div",{className:"col-xl-3 col-sm-6"},r.a.createElement("section",{className:"number-card-v4 mdc-elevation--z1 mb-4"},r.a.createElement("div",{className:"box-top"},r.a.createElement("div",{className:"box-icon"},r.a.createElement("span",{className:"icon-btn icon-btn-round bg-info text-white"},r.a.createElement(Mt.a,{icon:"people"}))),r.a.createElement("div",{className:"box-info"},r.a.createElement("p",{className:"info-desc"},"\u6703\u8b70\u6578\u91cf"),r.a.createElement("p",{className:"box-main-num"},"+12"))),r.a.createElement("div",{className:"box-bottom"},r.a.createElement("div",{className:"box-left"},r.a.createElement("p",{className:"info-desc"},"AVG Visit Duration (s)"),r.a.createElement("p",{className:"text-info"},"9.60"))))),r.a.createElement("div",{className:"col-xl-3 col-sm-6"},r.a.createElement("section",{className:"number-card-v4 mdc-elevation--z1 mb-4"},r.a.createElement("div",{className:"box-top"},r.a.createElement("div",{className:"box-icon"},r.a.createElement("span",{className:"icon-btn icon-btn-round bg-warning text-white"},r.a.createElement(Mt.a,{icon:"attach_money"}))),r.a.createElement("div",{className:"box-info"},r.a.createElement("p",{className:"info-desc"},"\u5f85\u8fa6\u4e8b\u9805"),r.a.createElement("p",{className:"box-main-num"},"21\u500b\u5b8c\u6210"))),r.a.createElement("div",{className:"box-bottom"},r.a.createElement("div",{className:"box-left"},r.a.createElement("p",{className:"info-desc"},"Last Week"),r.a.createElement("p",{className:"text-warning"},"26.80%")),r.a.createElement("div",{className:"box-right"},r.a.createElement("p",{className:"info-desc"},"Last Month"),r.a.createElement("p",{className:"text-warning"},"39.33%"))))),r.a.createElement("div",{className:"col-xl-3 col-sm-6"},r.a.createElement("section",{className:"number-card-v4 mdc-elevation--z1 mb-4"},r.a.createElement("div",{className:"box-top"},r.a.createElement("div",{className:"box-icon"},r.a.createElement("span",{className:"icon-btn icon-btn-round bg-primary text-white"},r.a.createElement(Mt.a,{icon:"shopping_cart"}))),r.a.createElement("div",{className:"box-info"},r.a.createElement("p",{className:"info-desc"},"\u4e0b\u9031\u884c\u7a0b"),r.a.createElement("p",{className:"box-main-num"},"25.5%"))),r.a.createElement("div",{className:"box-bottom"},r.a.createElement("div",{className:"box-left"},r.a.createElement("p",{className:"info-desc"},"Last Week"),r.a.createElement("p",{className:"text-primary"},"16.50%")),r.a.createElement("div",{className:"box-right"},r.a.createElement("p",{className:"info-desc"},"Last Month"),r.a.createElement("p",{className:"text-primary"},"29.00%"))))))},Bt=n(1699),Vt=n(133),zt=n(1179),Jt=n.n(zt),qt=n(1177),Gt=n.n(qt),Ht=n(481),Qt=n.n(Ht),Ut=n(1170),Kt=n.n(Ut),Xt=n(1166),Yt=n.n(Xt),Zt=n(69),$t=n.n(Zt),en=n(4),tn=n.n(en),nn=n(502),an=n.n(nn),rn=n(1702),on=n.n(rn);function ln(e){return(ln="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function un(e,t){return!t||"object"!==ln(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mn(e){return(mn=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var dn={PaperProps:{style:{maxHeight:224,width:250}}},pn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=un(this,mn(t).call(this,e))).getTagName=function(e){return n.props.tagOptions.find(function(t){return t.id===e}).name},n.handleDelete=function(e){return function(){var t=n.state.tags.filter(function(t){return t!==e});n.setState({tags:t}),n.props.onChange&&n.props.onChange({target:{value:t}})}},n.handleChange=function(e){console.log(e.target),n.setState({tags:e.target.value}),n.props.onChange&&n.props.onChange(e)},n.state={tags:e.tags||[]},n}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.theme,o=t.tagOptions,i=t.title,l=this.state.tags;return r.a.createElement("div",{className:n.root},r.a.createElement(S.a,{className:n.formControl},i&&r.a.createElement(N.a,{htmlFor:"select-multiple-chip"},i),r.a.createElement(_.a,{multiple:!0,value:l,onChange:this.handleChange,IconComponent:function(){return r.a.createElement("span",null)},input:r.a.createElement(C.a,{id:"select-multiple-chip",startAdornment:r.a.createElement(an.a,{position:"start"},r.a.createElement(on.a,null))}),renderValue:function(t){return r.a.createElement("div",{className:n.chips},t.map(function(t){return r.a.createElement(T.a,{key:t,label:e.getTagName(t),className:n.chip,onDelete:e.handleDelete(t)})}))},MenuProps:dn},o.map(function(e){return r.a.createElement(g.a,{key:e.id,value:e.id,style:{fontWeight:void 0===l.indexOf(e.id)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}},r.a.createElement(j.a,{checked:l.indexOf(e.id)>-1}),e.name)}))))}}])&&sn(n.prototype,a),o&&sn(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");cn(e.prototype,t&&t.prototype),t&&cn(e,t)}(t,e),t}(r.a.Component),fn=Object(f.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:0,minWidth:150,maxWidth:600},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:e.spacing.unit/4}}},{withTheme:!0})(pn),hn=n(1172),gn=n.n(hn),bn=n(294),yn=n.n(bn),vn=n(1164),En=n.n(vn),Cn=n(106),wn=n.n(Cn),Nn=n(1700),xn=n.n(Nn),Sn=n(1161),On=n.n(Sn),_n=n(1701),kn=n.n(_n),jn=n(91);function Pn(e){return(Pn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Fn(e,t){return!t||"object"!==Pn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ln(e){return(Ln=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Rn=[{id:"name",numeric:!1,disablePadding:!0,label:"\u540d\u5b57"},{id:"tags",numeric:!1,disablePadding:!1,label:"\u6a19\u7c64"},{id:"company",numeric:!1,disablePadding:!1,label:"\u4efb\u8077\u516c\u53f8"},{id:"income",numeric:!1,disablePadding:!1,label:"\u6536\u5165"},{id:"num_of_tasks",numeric:!1,disablePadding:!1,label:"\u5f85\u8fa6\u6578"},{id:"num_of_notes",numeric:!1,disablePadding:!1,label:"\u7b46\u8a18\u6578"},{id:"note_summary",numeric:!1,disablePadding:!1,label:"\u7b46\u8a18\u6458\u8981"},{id:"updated",numeric:!1,disablePadding:!1,label:"\u66f4\u65b0\u6642\u9593"}],In=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Fn(a,(n=a=Fn(this,(e=Ln(t)).call.apply(e,[this].concat(o))),a.createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},n))}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.onSelectAllClick,a=t.order,o=t.orderBy,i=t.numSelected,l=t.rowCount;return r.a.createElement(gn.a,null,r.a.createElement(Yt.a,null,r.a.createElement(Qt.a,{padding:"checkbox"},r.a.createElement(j.a,{indeterminate:i>0&&i<l,checked:i===l,onChange:n})),Rn.map(function(t){return r.a.createElement(Qt.a,{key:t.id,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:o===t.id&&a},r.a.createElement(On.a,{title:"\u6392\u5e8f",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(En.a,{active:o===t.id,direction:a,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}])&&Dn(n.prototype,a),o&&Dn(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Tn(e.prototype,t&&t.prototype),t&&Tn(e,t)}(t,e),t}(r.a.Component),Wn=function(e){var t,n,a,o=e.classes,i=e.numSelected,l=e.filters,c=e.config,s=e.handleDeleteClients,u=e.handleQueryChange,m=e.handleFilterChange;return r.a.createElement(yn.a,{className:tn()(o.root,(t={},n=o.highlight,a=i>0,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))},r.a.createElement("div",{className:o.title},i>0?r.a.createElement(qe.a,{color:"inherit",variant:"subheading"},i," \u500b\u5df2\u9078\u64c7"):r.a.createElement(qe.a,{variant:"title",id:"tableTitle"},"\u5ba2\u6236\u5217\u8868")),r.a.createElement("div",{className:o.spacer}),r.a.createElement("div",{className:o.actions},i>0?r.a.createElement(On.a,{title:"\u522a\u9664"},r.a.createElement(wn.a,{"aria-label":"Delete"},r.a.createElement(kn.a,{onClick:s}))):r.a.createElement(v.a,{container:!0,spacing:2,direction:"row"},r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(fn,{className:o.filterField,id:"tag_filter",tags:l,tagOptions:c.tags||[],onChange:m})),r.a.createElement(v.a,{item:!0,xs:6},r.a.createElement(y.a,{type:"search",className:o.searchField,id:"search-bar",variant:"outlined",placeholder:"\u641c\u5c0b\u5ba2\u6236",onChange:u,InputProps:{startAdornment:r.a.createElement(an.a,{position:"start"},r.a.createElement(xn.a,null))}})))))};function Mn(e){return(Mn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Vn(e,t){return!t||"object"!==Mn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zn(e){return(zn=Object.getPrototypeOf||function(e){return e.__proto__})(e)}Wn=Object(f.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(jn.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary,minWidth:800},title:{flex:"0 0 auto"},searchField:{width:150}}})(Wn);var Jn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Vn(this,zn(t).call(this,e))).handleChange=function(e){return function(t){var a,r,o;n.setState((a={},r=e,o=t.target.value,r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o,a))}},n.handleSave=function(e){console.log(n.state);var t=n.state,a=t.email,r=t.birthday,o=t.company,i=t.name;n.props.handlers.createClient({name:i,email:a,birthday:r,company:o}),n.props.toggleClientDrawer(!1)()},n.toggleDrawer=function(e){return function(){n.setState({isOpen:e})}},n.state={},n}var n,a,o;return n=t,(a=[{key:"render",value:function(){var e=this.state,t=e.email,n=e.birthday,a=e.company,o=e.name,i=this.props,l=i.classes,c=i.isOpen,s=i.toggleClientDrawer;return r.a.createElement(Ue.a,{anchor:"right",open:c,onClose:s(!1)},r.a.createElement("div",{className:l.divContainer},r.a.createElement(Be.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(qe.a,{variant:"title",gutterBottom:!0},"\u65b0\u589e\u5ba2\u6236")),r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(y.a,{required:!0,label:"\u59d3\u540d",className:l.textField,value:o,onChange:this.handleChange("name"),margin:"normal"})),r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(y.a,{id:"birthday",label:"\u751f\u65e5",value:n,className:l.textField,onChange:this.handleChange("birthday"),margin:"normal"})),r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(y.a,{id:"email",label:"Email",type:"email",value:t,className:l.textField,onChange:this.handleChange("email"),margin:"normal"})),r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(y.a,{id:"company",label:"\u516c\u53f8",value:a,className:l.textField,onChange:this.handleChange("company"),margin:"normal"})),r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement("div",{className:l.drawerActionButtons},r.a.createElement("div",{className:"divider divider-solid border-dark mb-4"}),r.a.createElement(Be.a,{container:!0,justify:"flex-end"},r.a.createElement(Be.a,{item:!0},r.a.createElement(Ke.a,{color:"secondary",className:l.button,onClick:s(!1)},"\u53d6\u6d88"),r.a.createElement(ze.a,{variant:"contained",color:"primary",className:l.button,onClick:this.handleSave},"\u5132\u5b58"))))))))}}])&&Bn(n.prototype,a),o&&Bn(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");An(e.prototype,t&&t.prototype),t&&An(e,t)}(t,e),t}(r.a.Component),qn=Object(f.withStyles)(function(e){return{divContainer:{width:300,padding:2*e.spacing.unit},textField:{width:"80%"},button:{marginLeft:e.spacing.unit/2,marginRight:e.spacing.unit/2},drawerActionButtons:{width:270,position:"fixed",bottom:2*e.spacing.unit}}})(Jn);function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hn=Object(f.withStyles)(function(e){return{chip:{margin:e.spacing.unit}}})(function(e){var t=e.tags,n=e.config,a=e.classes,o=function(){};return(t||[]).map(function(e,t){var i;return r.a.createElement(T.a,(Gn(i={className:a.chip,key:t,label:function(e){return n.tags.filter(function(t){return t.id===e})[0].name}(e)},"className","table-chip bg-info px-2"),Gn(i,"onClick",o),i))})});function Qn(e){return(Qn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Yn(e,t){return!t||"object"!==Qn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zn(e){return(Zn=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function $n(e,t){return"num_of_tasks"===t?e.profile.tasks&&e.profile.tasks.length:t in e?e[t]:t in e.profile?e.profile[t]:null}var ea=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Yn(this,Zn(t).call(this,e))).url="https://api.cooby.co/clients/",n.toggleClientDrawer=function(e){return function(){n.setState({openClientDrawer:e})}},n.handleRequestSort=function(e,t){var a=t,r="desc";n.state.orderBy===t&&"desc"===n.state.order&&(r="asc"),n.setState({order:r,orderBy:a})},n.handleSelectAllClick=function(e,t){t?n.setState(function(e){return{selected:e.clients.map(function(e){return e.profile.id})}}):n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected,r=a.indexOf(t),o=[];-1===r?o=o.concat(a,t):0===r?o=o.concat(a.slice(1)):r===a.length-1?o=o.concat(a.slice(0,-1)):r>0&&(o=o.concat(a.slice(0,r),a.slice(r+1))),n.setState({selected:o})},n.clientSearchMatch=function(e,t){var a=n.state.config.income||{};return[t.profile.name,t.profile.company,t.note_summary,a[String(t.profile.income)]].reduce(function(t,n){return t||n&&n.toLowerCase().includes(e.toLowerCase())},!1)},n.handleDeleteClients=function(e){var t=[];n.state.selected.forEach(function(e){var a=n.url+e;t.push(new Promise(function(t,n){fetch(a,{method:"DELETE",mode:"cors",headers:Object(ge.d)()}).then(function(a){a.ok?t(e):a.json().then(function(e){console.log(e),n(e)})})}))}),Promise.all(t).then(function(e){var t=n.state.clients,a=n.state.selected;e.forEach(function(e){var n=t.findIndex(function(t){return t.profile.id===e});t.splice(n,1);var r=a.indexOf(e);a.splice(r,1)}),n.setState({clients:t,selected:a})})},n.handleQueryChange=function(e){console.log(e.target.value),e.target.value.length>0?n.setState({clients:n.state.unfilteredClients.filter(function(t){return n.clientSearchMatch(e.target.value,t)})}):n.setState({clients:n.state.unfilteredClients})},n.clientFilterMatch=function(e,t){return e.reduce(function(e,n){return e||t.profile.tags.includes(n)},!1)},n.handleFilterChange=function(e){var t=e.target.value;if(e.target.value.length>0){var a=n.state.unfilteredClients.filter(function(e){return n.clientFilterMatch(t,e)});console.log(a),n.setState({clients:a})}else n.setState({clients:n.state.unfilteredClients})},n.handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:e.target.value})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},console.log(Object(ge.d)());return n.state={openClientDrawer:!1,order:"asc",orderBy:"name",selected:[],page:0,rowsPerPage:10,error:null,isLoaded:!1,filters:[],clients:[],filteredClients:[],config:{},handlers:{createClient:function(e){fetch(n.url,{method:"POST",mode:"cors",headers:Object(ge.d)(),body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(t){console.log(t),n.setState({clients:n.state.clients.concat({note_summary:t.note_summary,profile:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Un(e,t,n[t])})}return e}({},e,{id:t.id})})})})}}},n}var n,a,o;return n=t,(a=[{key:"componentDidMount",value:function(){var e=this;fetch(this.url,{method:"GET",mode:"cors",headers:Object(ge.d)()}).then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,clients:t.clients,unfilteredClients:t.clients,config:t.config})},function(t){e.setState({isLoaded:!0,error:t})})}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=n.clients,o=n.order,i=n.orderBy,l=n.selected,c=n.rowsPerPage,s=n.page,u=n.filters,m=n.config,d=n.handlers,p=n.openClientDrawer,f=c-Math.min(c,a.length-s*c);return console.log(a[0]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{variant:"contained",color:"primary",className:"btn-w-md",onClick:this.toggleClientDrawer(!0)},"\u65b0\u589e\u5ba2\u6236"),r.a.createElement($t.a,{className:t.root},r.a.createElement(qn,{isOpen:p,toggleClientDrawer:this.toggleClientDrawer,handlers:d}),r.a.createElement(Wn,{numSelected:l.length,filters:u,config:m,handleDeleteClients:this.handleDeleteClients,handleQueryChange:this.handleQueryChange,handleFilterChange:this.handleFilterChange}),r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(Jt.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(In,{numSelected:l.length,order:o,orderBy:i,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:a.length}),r.a.createElement(Gt.a,null,a.sort(function(e,t){return"desc"===e?function(e,n){return $n(n,t)<$n(e,t)?-1:1}:function(e,n){return $n(e,t)<$n(n,t)?-1:1}}(o,i)).slice(s*c,s*c+c).map(function(t){var n=e.isSelected(t.profile.id);return r.a.createElement(Yt.a,{hover:!0,onClick:function(n){return e.handleClick(n,t.profile.id)},role:"checkbox","aria-checked":n,tabIndex:-1,key:t.profile.id,selected:n},r.a.createElement(Qt.a,{padding:"checkbox"},r.a.createElement(j.a,{checked:n})),r.a.createElement(Qt.a,{component:"th",scope:"row",padding:"none"},r.a.createElement(Bt.a,{to:{pathname:"/app/client/"+t.profile.id,state:{client:t,config:m,handlers:d}},className:"link-cta link-animated-hover link-hover-v1 text-primary"},t.profile.name)),r.a.createElement(Qt.a,null,r.a.createElement(Hn,{tags:t.profile.tags,config:m,handlers:d})),r.a.createElement(Qt.a,null,t.profile.company),r.a.createElement(Qt.a,null,m.income[t.profile.income]),r.a.createElement(Qt.a,null,t.profile.tasks.length),r.a.createElement(Qt.a,null,t.num_of_notes),r.a.createElement(Qt.a,null,t.note_summary),r.a.createElement(Qt.a,null,t.profile.updated.substring(0,10)))}),f>0&&r.a.createElement(Yt.a,{style:{height:49*f}},r.a.createElement(Qt.a,{colSpan:6}))))),r.a.createElement(Kt.a,{component:"div",count:a.length,rowsPerPage:c,page:s,labelRowsPerPage:"\u6bcf\u9801\u6578\u76ee",backIconButtonProps:{"aria-label":"\u4e0a\u4e00\u9801"},nextIconButtonProps:{"aria-label":"\u4e0b\u4e00\u9801"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})))}}])&&Xn(n.prototype,a),o&&Xn(n,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Kn(e.prototype,t&&t.prototype),t&&Kn(e,t)}(t,e),t}(r.a.Component),ta=Object(f.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}}})(ea),na=Object(Vt.a)(ta);n(1707);function aa(e){return(aa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ia(e,t){return!t||"object"!==aa(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function la(e){return(la=Object.getPrototypeOf||function(e){return e.__proto__})(e)}n.d(t,"default",function(){return ca});var ca=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ia(this,la(t).call(this))).state={},e}var n,a,c;return n=t,(a=[{key:"componentDidMount",value:function(){Object(ge.c)()||(console.log("go login"),this.props.history.push("/user/login"))}},{key:"render",value:function(){var e=this.props.match,t=this.state.openClientDrawer;return r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(l.a,{path:"".concat(e.path,"/:clientId"),component:Wt}),r.a.createElement(l.a,{path:e.path},r.a.createElement("div",{className:"container-fluid no-breadcrumb page-dashboard"},r.a.createElement(o.a,{type:"bottom",className:"ui-animate"},r.a.createElement("div",{key:"1"},r.a.createElement(At,null)),r.a.createElement("div",{key:"2"},r.a.createElement(na,{toggleClientDrawer:this.toggleClientDrawer,openClientDrawer:t})))))))}}])&&oa(n.prototype,a),c&&oa(n,c),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");ra(e.prototype,t&&t.prototype),t&&ra(e,t)}(t,e),t}(r.a.Component)},1707:function(e,t,n){}}]);
//# sourceMappingURL=14.b181a079.chunk.js.map