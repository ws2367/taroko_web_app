{"version":3,"sources":["routes/client/components/TagMultipleSelect.js","routes/client/components/CreatableMultiTagAutocomplete.js","routes/client/components/RelatedClientField.js","routes/client/components/Profile.js","routes/client/components/NoteDrawer.js","routes/client/components/NoteList.js","routes/client/components/Client.js","routes/client/components/StatBoxes1.js","routes/client/components/ClientListFilters.js","routes/client/components/EnhancedTableElements.js","routes/client/components/ClientDrawer.js","routes/client/components/Tag.js","routes/client/components/ClientList.js","routes/client/index.js"],"names":["MenuProps","PaperProps","style","maxHeight","ITEM_HEIGHT","width","TagMultipleSelect_MultipleSelect","MultipleSelect","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","getTagName","id","tagOptions","find","tag","name","handleDelete","tagId","newTags","state","tags","filter","n","setState","onChange","target","value","handleChange","event","console","log","_this2","_this$props","classes","theme","title","react_default","a","createElement","className","root","FormControl_default","formControl","InputLabel_default","htmlFor","Select_default","multiple","input","Input_default","renderValue","selected","chips","map","Chip_default","key","label","chip","onDelete","MenuItem_default","fontWeight","undefined","indexOf","typography","fontWeightRegular","fontWeightMedium","Checkbox_default","checked","Component","components_TagMultipleSelect","Object","styles","display","flexWrap","margin","spacing","unit","minWidth","maxWidth","withTheme","customStyles","container","provided","_objectSpread","borderTop","borderLeft","borderRight","CreatableMultiTagAutocomplete_CreatableMultiTagAutocomplete","getOptionLabel","option","options","isLoading","convertTagsToOptions","convertOptionsToTags","o","newValue","actionMeta","group","concat","action","groupEnd","handleCreate","inputValue","handleCreateTag","then","newTag","error","_this$state","react_select_browser_esm","tagField","variant","placeholder","isClearable","isMulti","formatCreateLabel","isDisabled","onCreateOption","colors","primary25","primary50","primary75","primary","react","components_CreatableMultiTagAutocomplete","RelatedClientField_styles","dialog","StyledRelationDialog","handleClose","handleClick","open","relations","Dialog_default","onClose","aria-labelledby","DialogTitle_default","List_default","keys","relationId","ListItem_default","button","onClick","ListItemText_default","RelatedClientField_RelatedClientField","clientId","openDialog","newClientName","relatedClients","related","relation","convertValueToTags","newRelation","pop","updateRelation","handleCloseDialog","handleClickDialog","length","createClient","newClientOption","Fragment","components_RelatedClientField","Profile_Loader","Profile_styles","textField","marginLeft","marginRight","leftIcon","Profile_BasicInfoTextFields","config","profile","addToConfig","core_index_es","item","xs","TextField_default","required","InputLabelProps","shrink","type","birthday","email","cell_phone","company","address","select","String","income","helperText","k","source","SelectProps","menu","interests","Profile_InsuranceInfoTextFields","_this$props2","noValidate","autoComplete","is_insured","insurance_companies","insurances_of_interest","Profile_FinancialPlanTextFields","_this$props3","multiline","fullWidth","financial_plan","Profile_FamilyInfoTextFields","_this$props4","clientOptions","marital_status","related_clients","client_relation","Profile_AppendixTextFields","_this$props5","appendix","StyledBasicInfoTextFields","StyledInsuranceInfoTextFields","StyledFinancialPlanTextFields","StyledFamilyInfoTextFields","StyledAppendixTextFields","components_Profile","Profile","Profile_classCallCheck","Profile_possibleConstructorReturn","Profile_getPrototypeOf","fetchClient","fetch","method","mode","headers","Auth","res","json","result","client","clients","isLoaded","c","handlers","updateClientName","oldClientOptions","Promise","resolve","reject","body","JSON","stringify","url","newTagObject","Profile_objectSpread","Profile_defineProperty","push","nextProps","nextState","justify","NoteDrawer_CommonNoteFields","_ref","note","location","date","NoteDrawer_QuoteNoteFields","_ref2","Typography_default","gutterBottom","additional_data","sent_time","sent_content","NoteDrawer_ClaimNoteFields","_ref3","claim_time","claim_content","NoteDrawer_SigningNoteFields","_ref4","signed_time","signed_content","NoteDrawer_GenericNoteFields","_ref5","current_insurance","NoteDrawer_CustomNoteFields","_ref6","note_type","NoteDrawer_NoteDrawer","NoteDrawer_objectSpread","isAdditionalData","handleSave","handleSaveNote","preventDefault","handleDeleteNote","isOpen","Drawer_default","anchor","divContainer","Grid_default","InputProps","fontSize","drawerActionButtons","alignItems","Button_default","color","OutlinedButton","size","components_NoteDrawer","padding","position","bottom","NoteList_CreateNoteButton","AnchorEl","anchorEl","currentTarget","handleMenuItemClick","openDrawer","noteTypes","aria-controls","aria-haspopup","Menu_default","keepMounted","Boolean","noteTypeId","NoteCard","pos","marginBottom","Card_default","CardContent_default","component","CardActions_default","NoteList_NoteList","collectionEndpoint","_this3","notes","openNoteDrawer","selectedNote","0","1","2","3","4","fetchNotes","drawerKey","Math","random","handleNoteClick","noteId","ok","index","findIndex","t","splice","newNote","endpoint","oldNote","NoteList_objectSpread","row","components_NoteList","backgroundColor","palette","background","paper","heading","pxToRem","components_Client","Client","Client_classCallCheck","Client_possibleConstructorReturn","Client_getPrototypeOf","fetchTasks","tasks","handleTabChange","tabIndex","handleChangeIndex","pathname","replace","es","Tabs_default","Tab_default","lib_default","onChangeIndex","TaskList","isUnderClient","StatBoxes1","MaterialIcon","icon","ClientListFilters_MenuProps","ClientListFilters_ITEM_HEIGHT","ClientListFilters_ClientListFilters","ClientListFilters","ClientListFilters_classCallCheck","ClientListFilters_possibleConstructorReturn","ClientListFilters_getPrototypeOf","IconComponent","startAdornment","InputAdornment_default","FilterList_default","components_ClientListFilters","columnData","numeric","disablePadding","EnhancedTableElements_EnhancedTableHead","createSortHandler","property","onRequestSort","onSelectAllClick","order","orderBy","numSelected","rowCount","TableHead_default","TableRow_default","TableCell_default","indeterminate","column","sortDirection","Tooltip_default","placement","enterDelay","TableSortLabel_default","active","direction","EnhancedTableElements_EnhancedTableToolbar","filters","handleDeleteClients","handleQueryChange","handleFilterChange","Toolbar_default","classnames_default","highlight","spacer","actions","IconButton_default","aria-label","Delete_default","filterField","searchField","Search_default","paddingRight","secondary","main","colorManipulator","light","text","dark","flex","ClientDrawer_ClientDrawer","ClientDrawer","ClientDrawer_classCallCheck","ClientDrawer_possibleConstructorReturn","ClientDrawer_getPrototypeOf","toggleClientDrawer","toggleDrawer","_this$state2","components_ClientDrawer","components_Tag","i","_React$createElement","Tag_defineProperty","getClientData","field","ClientList_ClientList","ClientList","ClientList_classCallCheck","ClientList_possibleConstructorReturn","ClientList_getPrototypeOf","openClientDrawer","handleRequestSort","handleSelectAllClick","selectedIndex","newSelected","slice","clientSearchMatch","query","incomeConfig","note_summary","reduce","sum","toLowerCase","includes","promises","forEach","all","clientIds","unfilteredClients","clientFilterMatch","tagIds","foundMatch","filteredClients","handleChangePage","page","handleChangeRowsPerPage","rowsPerPage","isSelected","ClientList_objectSpread","emptyRows","min","Paper_default","tableWrapper","Table_default","table","TableBody_default","sort","b","getSorting","hover","role","aria-checked","scope","Link","to","num_of_notes","updated","substring","height","colSpan","TablePagination_default","count","labelRowsPerPage","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage","StyledClientList","marginTop","overflowX","components_ClientList","withRouter","client_ClientsPage","ClientsPage","client_classCallCheck","client_possibleConstructorReturn","client_getPrototypeOf","history","match","Switch","Route","path"],"mappings":"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","file":"static/js/14.b181a079.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Select from '@material-ui/core/Select';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n    minWidth: 400,\n    maxWidth: '80%',\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: theme.spacing.unit / 4,\n  },\n});\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nclass MultipleSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: props.tags || []\n    };\n  }\n\n  getTagName = id => {\n    return this.props.tagOptions.find(tag => tag.id == id).name;\n  }\n\n  handleDelete = tagId => () => {\n    var newTags = this.state.tags.filter( n => n !== tagId );\n    this.setState({ tags: newTags });\n    this.props.onChange && this.props.onChange({target: {value: newTags }}); // first part is like an if.\n  }\n\n  handleChange = event => {\n    console.log(event.target);\n    this.setState({ tags: event.target.value });\n    this.props.onChange && this.props.onChange(event); // first part is like an if.\n  };\n\n  render() {\n    const { classes, theme, tagOptions, title } = this.props;\n    const {tags} = this.state;\n\n    return (\n      <div className={classes.root}>\n        <FormControl className={classes.formControl}>\n          {title && <InputLabel htmlFor=\"select-multiple-chip\">{title}</InputLabel>}\n          <Select\n            multiple\n            value={tags}\n            onChange={this.handleChange}\n            input={<Input id=\"select-multiple-chip\" />}\n            renderValue={selected => (\n              <div className={classes.chips}>\n                {selected.map(tagId => <Chip key={tagId} label={this.getTagName(tagId)} className={classes.chip} onDelete={this.handleDelete(tagId)} />)}\n              </div>\n            )}\n            MenuProps={MenuProps}\n          >\n            {tagOptions.map(tag => (\n              <MenuItem\n                key={tag.id}\n                value={tag.id}\n                style={{\n                  fontWeight:\n                    tags.indexOf(tag.id) === undefined\n                      ? theme.typography.fontWeightRegular\n                      : theme.typography.fontWeightMedium,\n                }}\n              >\n                <Checkbox checked={tags.indexOf(tag.id) > -1} />\n                {tag.name}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </div>\n    );\n  }\n}\n\n\nMultipleSelect.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nconst TagMultipleSelect = withStyles(styles, { withTheme: true })(MultipleSelect);\n\nexport default TagMultipleSelect;\n","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport CreatableSelect from 'react-select/creatable';\n\n\nconst customStyles = {\n  container: (provided, state) => ({\n    // none of react-select's styles are passed to <Control />\n    ...provided,\n    borderTop: '0px',\n    borderLeft: '0px',\n    borderRight: '0px'\n  })\n};\n\nconst styles = theme => ({\n  tagField: {\n    margin: theme.spacing.unit,\n    width: '90%',\n  }\n});\n\ntype State = {\n  value: string | void,\n};\n\n\nclass CreatableMultiTagAutocomplete extends Component<*, State> {\n  getOptionLabel = (id) => {\n    let option = this.props.options.find(option => option.id === id);\n    return option ? option.name : id;\n  }\n\n  state = {\n    isLoading: false,\n    value: this.props.tags.map(tagId => ({\n      value: tagId,\n      label: this.getOptionLabel(tagId)\n    }) )\n  };\n\n  convertTagsToOptions = (tags) => {\n    // restructure tags as options\n    return tags.map(tag => ({label: tag.name, value: tag.id}) );\n  }\n\n  convertOptionsToTags = (options) => {\n    return (options && options.map(o => o.value)) || [];\n  }\n\n  handleChange = (newValue: any, actionMeta: any) => {\n    console.group('Value Changed');\n    console.log(newValue);\n    console.log(`action: ${actionMeta.action}`);\n    console.groupEnd();\n    this.setState({ value: newValue });\n    this.props.handleChange( {target: {value: this.convertOptionsToTags(newValue)} });\n  };\n\n  handleCreate = (inputValue: any) => {\n    this.setState({ isLoading: true });\n    console.group('Creating option');\n    console.log(inputValue);\n    console.groupEnd();\n    this.props.handleCreateTag(inputValue).then(\n      (newTag) => {\n        console.log(newTag);\n        this.setState({ isLoading: false });\n        // fake it like internal input\n        var newValue = this.state.value;\n        this.handleChange(newValue.concat(this.convertTagsToOptions([newTag])), {action: 'create-option'});\n      },\n      (error) => {}\n    )\n\n  };\n\n  render() {\n    const { isLoading, value } = this.state;\n    // CreateableSelect assumes the structure of label and value\n    const options = this.convertTagsToOptions(this.props.options);\n\n    const customizeTheme = theme => ({\n      ...theme,\n      colors: {\n        ...theme.colors,\n        primary25: '#eceafc',\n        primary50: '#eceafc',\n        primary75: '#eceafc',\n        primary: '#5124EF'\n      }\n    });\n\n    return (\n      <CreatableSelect\n        className={this.props.classes.tagField}\n        title={this.props.title}\n        variant='standard'\n        placeholder={this.props.placeholder}\n        styles={customStyles}\n        isClearable\n        isMulti\n        formatCreateLabel={this.props.formatCreateLabel}\n        isDisabled={isLoading}\n        isLoading={isLoading}\n        onChange={this.handleChange}\n        onCreateOption={this.handleCreate}\n        options={options}\n        value={value}\n        theme={customizeTheme}\n      />\n    );\n  }\n}\n\nexport default withStyles(styles)(CreatableMultiTagAutocomplete);\n","import React, { Component } from 'react';\nimport CreatableSelect from 'react-select/creatable';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport { blue } from '@material-ui/core/colors';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  dialog: {\n    width: 300\n  },\n  tagField: {\n    margin: theme.spacing.unit,\n    width: '90%',\n  },\n});\n\nfunction RelationDialog(props) {\n  const { handleClose, handleClick, open, relations, classes } = props;\n\n  return (\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open} className={classes.dialog}>\n      <DialogTitle id=\"simple-dialog-title\">選擇關係</DialogTitle>\n      <List>\n        {Object.keys(relations).map((relationId) => (\n          <ListItem button onClick={() => handleClick(relationId)} key={relationId}>\n            <ListItemText primary={relations[relationId]} />\n          </ListItem>\n        ))}\n      </List>\n    </Dialog>\n  );\n}\n\nRelationDialog.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  relations: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired\n};\n\ntype State = {\n  value: string | void,\n};\n\nconst StyledRelationDialog = withStyles(styles)(RelationDialog);\n\n\nclass RelatedClientField extends Component<*, State> {\n  getOptionLabel = (clientId, relationId) => {\n    let relatedClient = this.props.options.find(option => option.id === clientId);\n    return relatedClient.name + \"(\" + this.props.relations[relationId] + \")\";\n  }\n\n  state = {\n    openDialog: false,\n    isLoading: false,\n    newClientName: null,\n    value: (this.props.relatedClients || []).map(related => ({\n      relation: related.relation,\n      value: related.id,\n      label: this.getOptionLabel(related.id, related.relation)\n    }) )\n  };\n\n  convertTagsToOptions = (tags) => {\n    // restructure tags as options\n    return tags.map(tag => ({label: tag.name, value: tag.id}) );\n  }\n\n  convertValueToTags = (options) => {\n    return (options && options.map(\n      o => ({\n        relation: o.relation,\n        id: o.value\n      })\n    )) || [];\n  }\n\n  handleChange = (newValue: any, actionMeta: any) => {\n    console.group('Value Changed');\n    console.log(newValue);\n    console.log(`action: ${actionMeta.action}`);\n    console.groupEnd();\n    if (actionMeta.action === 'select-option') {\n      // fire up the dialog\n      this.setState({openDialog: true, newRelation: newValue.pop()});\n    } else {\n      this.setState({ value: newValue});\n      this.props.onChange({target: {value: this.convertValueToTags(newValue)}});\n    }\n  };\n\n  handleCreate = (inputValue: any) => {\n    this.setState({ isLoading: true, newClientName: inputValue});\n    console.group('Creating option');\n    console.log(inputValue);\n    console.groupEnd();\n    this.setState({openDialog: true});\n    // this.props.handleCreateTag(inputValue).then(\n    //   (newTag) => {\n    //     console.log(newTag);\n    //     this.setState({ isLoading: false });\n    //     // fake it like internal input\n    //     var newValue = this.state.value;\n    //     this.handleChange(newValue.concat(this.convertTagsToOptions([newTag])), {action: 'create-option'});\n    //   },\n    //   (error) => {}\n    // )\n  };\n\n  updateRelation = (newRelation) => {\n    let newValue = this.state.value.concat(newRelation);\n    // update state\n    this.setState({\n      value: newValue,\n      openDialog: false,\n      isLoading: false,\n      newClientName: null,\n      newRelation: null\n    });\n\n    // create relation\n    this.props.onChange({target: {value: this.convertValueToTags(newValue)} });\n  }\n\n  handleCloseDialog = event => {\n    this.setState({\n      openDialog: false,\n      isLoading: false,\n      newClientName: null,\n      newRelation: false});\n  };\n\n  handleClickDialog = relationId => {\n    // create client if needed\n    if (this.state.newClientName && this.state.newClientName.length > 0) {\n      // this is to create new client\n      this.props.createClient({name: this.state.newClientName}).then(\n        (newClientOption) => {\n          console.group(\"Add New Client\");\n          console.log(newClientOption);\n          console.log(relationId);\n          console.groupEnd();\n          // set relation\n          this.updateRelation({\n            relation: relationId,\n            value: newClientOption.id,\n            label: this.state.newClientName + \"(\" + this.props.relations[relationId] + \")\"\n          });\n        }\n      );\n    } else {\n      // this is to add existing client\n      console.group(\"Add Existing Client\");\n      console.log(this.state.newRelation);\n      console.log(relationId);\n      console.groupEnd();\n      this.updateRelation({\n        value: this.state.newRelation.value,\n        label: this.getOptionLabel(this.state.newRelation.value, relationId),\n        relation: relationId\n      });\n    }\n  };\n\n  render() {\n    const { isLoading, value, openDialog } = this.state;\n    const { classes, relations } = this.props;\n    // CreateableSelect assumes the structure of label and value\n    const options = this.convertTagsToOptions(this.props.options);\n    console.log(this.props.relatedClients);\n    return (\n      <>\n        <StyledRelationDialog\n          open={openDialog}\n          relations={relations}\n          handleClose={this.handleCloseDialog}\n          handleClick={this.handleClickDialog}\n        />\n        <CreatableSelect\n          variant='standard'\n          className={classes.tagField}\n          placeholder=\"選擇相關客戶\"\n          isClearable\n          isMulti\n          formatCreateLabel={this.props.formatCreateLabel}\n          isDisabled={isLoading}\n          isLoading={isLoading}\n          onChange={this.handleChange}\n          onCreateOption={this.handleCreate}\n          options={options}\n          value={value}\n        />\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(RelatedClientField);\n","import React, {Fragment} from 'react';\nimport QueueAnim from 'rc-queue-anim';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport { DatePicker } from 'material-ui-pickers';\nimport { Grid } from '@material-ui/core';\nimport TagMultipleSelect from './TagMultipleSelect';\nimport CreatableMultiTagAutocomplete from './CreatableMultiTagAutocomplete';\nimport RelatedClientField from './RelatedClientField';\nimport \"../../feedback/routes/loaders/components/loaders/loaders.scss\";\nimport {requestHeaders} from 'auth/Auth';\n\nconst Loader = () => (\n  <div className=\"ball-grid-pulse\">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n)\n\n\nconst styles = theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: '90%',\n  },\n  leftIcon: {\n    marginRight: theme.spacing.unit,\n  },\n});\n\n\nclass BasicInfoTextFields extends React.Component {\n\n  render() {\n    const { classes, config, profile, handleChange, handleCreateTag, addToConfig } = this.props;\n\n    return (\n      <Grid container spacing={2}>\n        <Grid item xs={6}>\n          <TextField\n            required\n            id=\"name\"\n            label=\"姓名\"\n            className={classes.textField}\n            value={profile.name}\n            onChange={handleChange('name')}\n            margin=\"normal\"\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <div className=\"picker\">\n            <TextField\n              className={classes.textField}\n              InputLabelProps={{ shrink: true }}\n              placeholder=\"請選生日\"\n              type='date'\n              label=\"生日\"\n              value={profile.birthday}\n              onChange={handleChange('birthday')}\n              margin=\"normal\"\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12}>\n          <CreatableMultiTagAutocomplete\n          title='標籤'\n          placeholder=\"選擇標籤\"\n          formatCreateLabel={(inputValue) => (\"新增標籤：\" + inputValue)}\n          tags={profile.tags}\n          options={config.tags}\n          handleCreateTag={handleCreateTag('tags')}\n          handleChange={handleChange('tags')}\n          label=\"Tag\"\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            id=\"email\"\n            label=\"Email\"\n            type=\"email\"\n            value={profile.email}\n            className={classes.textField}\n            onChange={handleChange('email')}\n            margin=\"normal\"\n          />\n        </Grid>\n        <Grid item xs={12}>\n        <TextField\n          id=\"cell_phone\"\n          label=\"電話號碼\"\n          className={classes.textField}\n          onChange={handleChange('cell_phone')}\n          value={profile.cell_phone}\n          type=\"tel\"\n          margin=\"normal\"\n        />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            id=\"company\"\n            label=\"任職公司/職稱\"\n            value={profile.company}\n            className={classes.textField}\n            onChange={handleChange('company')}\n            margin=\"normal\"\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            id=\"address\"\n            label=\"地址\"\n            value={profile.address}\n            className={classes.textField}\n            onChange={handleChange('address')}\n            margin=\"normal\"\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            id=\"income\"\n            select\n            label=\"月收入\"\n            className={classes.textField}\n            value={String(profile.income)}\n            onChange={handleChange('income')}\n            helperText=\"請選擇收入\"\n            margin=\"normal\"\n          >\n            {Object.keys(config.income).map( k => (\n              <MenuItem key={k} value={k}>\n                {config.income[k]}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            id=\"source\"\n            select\n            label=\"認識方式\"\n            className={classes.textField}\n            value={String(profile.source)}\n            onChange={handleChange('source')}\n            SelectProps={{\n              MenuProps: {\n                className: classes.menu,\n              },\n            }}\n            helperText=\"請選擇認識方式\"\n            margin=\"normal\"\n          >\n            {Object.keys(config.source).map(k => (\n              <MenuItem key={k} value={k}>\n                {config.source[k]}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid>\n        <Grid item xs={12}>\n          <CreatableMultiTagAutocomplete\n            id=\"interests\"\n            title='休閒興趣'\n            placeholder=\"選擇休閒興趣\"\n            formatCreateLabel={(inputValue) => (\"新增休閒興趣：\" + inputValue)}\n            tags={profile.interests}\n            options={config.interests}\n            handleCreateTag={handleCreateTag('interests')}\n            handleChange={handleChange('interests')}\n            label=\"Interests\"\n          />\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nclass InsuranceInfoTextFields extends React.Component {\n\n\n  render() {\n    const { classes, config, profile, handleChange, handleCreateTag, addToConfig } = this.props;\n\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n        <TextField\n          select\n          id=\"is_insured\"\n          label=\"有保險？\"\n          className={classes.textField}\n          value={String(profile.is_insured)}\n          SelectProps={{\n            MenuProps: {\n              className: classes.menu,\n            },\n          }}\n          onChange={handleChange('is_insured')}\n          margin=\"normal\"\n        >\n          {Object.keys(config.is_insured).map( k => (\n            <MenuItem key={k} value={k}>\n              {config.is_insured[k]}\n            </MenuItem>\n          ))}\n        </TextField>\n        <TagMultipleSelect\n          id=\"insurance_companies\"\n          title='投保公司'\n          tags={profile.insurance_companies}\n          tagOptions={config.insurance_companies}\n          onChange={handleChange('insurance_companies')}\n          label=\"投保公司\"\n        />\n        <TagMultipleSelect\n          id=\"insurances_of_interest\"\n          title='有興趣保險種類'\n          tags={profile.insurances_of_interest}\n          tagOptions={config.insurances_of_interest}\n          onChange={handleChange('insurances_of_interest')}\n          label=\"有興趣保險種類\"\n        />\n      </form>\n    );\n  }\n}\n\n\n\nclass FinancialPlanTextFields extends React.Component {\n\n\n  render() {\n    const { classes, config, profile, handleChange, handleCreateTag, addToConfig } = this.props;\n\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n        <TextField\n          multiline\n          InputLabelProps={{\n            shrink: true,\n          }}\n          fullWidth\n          id=\"financial_plan\"\n          value={profile.financial_plan || undefined}\n          onChange={handleChange('financial_plan')}\n          className={classes.textField}\n          margin=\"normal\"\n          variant='outlined'\n        />\n      </form>\n    );\n  }\n}\n\n\nclass FamilyInfoTextFields extends React.Component {\n\n\n  render() {\n    const { classes, config, profile, clientOptions, handleChange, createClient, addToConfig } = this.props;\n\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n        <TextField\n          select\n          id=\"marital_status\"\n          label=\"婚姻狀況\"\n          value={String(profile.marital_status)}\n          className={classes.textField}\n          onChange={handleChange('marital_status')}\n          SelectProps={{\n            MenuProps: {\n              className: classes.menu,\n            },\n          }}\n          margin=\"normal\"\n        >\n          {Object.keys(config.marital_status).map(k => (\n            <MenuItem key={k} value={k}>\n              {config.marital_status[k]}\n            </MenuItem>\n          ))}\n        </TextField>\n        <RelatedClientField\n          title='延伸親友名單'\n          className={classes.tagField}\n          relatedClients={profile.related_clients}\n          formatCreateLabel={(inputValue) => (\"新增客戶：\" + inputValue)}\n          relations={config.client_relation}\n          options={clientOptions}\n          createClient={createClient}\n          onChange={handleChange('related_clients')}\n          id=\"related_clients\"\n        />\n\n      </form>\n    );\n  }\n}\n\n\nclass AppendixTextFields extends React.Component {\n  render() {\n    const { classes, config, profile, handleChange, handleCreateTag, addToConfig } = this.props;\n\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n        <TextField\n          multiline\n          InputLabelProps={{\n            shrink: true,\n          }}\n          fullWidth\n          id=\"appendix\"\n          label=\"備註\"\n          variant='outlined'\n          value={profile.appendix || undefined}\n          className={classes.textField}\n          margin=\"normal\"\n        />\n      </form>\n    );\n  }\n}\n\n\nconst StyledBasicInfoTextFields = withStyles(styles)(BasicInfoTextFields);\nconst StyledInsuranceInfoTextFields = withStyles(styles)(InsuranceInfoTextFields);\nconst StyledFinancialPlanTextFields = withStyles(styles)(FinancialPlanTextFields);\nconst StyledFamilyInfoTextFields = withStyles(styles)(FamilyInfoTextFields);\nconst StyledAppendixTextFields = withStyles(styles)(AppendixTextFields);\n\n\n\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.props.clientId !== nextProps.clientId || nextState !== this.state;\n  }\n\n\n  componentDidMount() {\n    this.fetchClient(this.props.clientId);\n  }\n\n  fetchClient = (clientId) => {\n    fetch(\"https://api.cooby.co/clients/\", {\n      \"method\": \"GET\",\n      mode: 'cors',\n      headers: requestHeaders()\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          let client = result.clients.filter( client => client.profile.id === clientId )[0];\n\n          this.setState({\n            isLoaded: true,\n            profile: client.profile,\n            clientOptions: result.clients.map(c => ({id: c.profile.id, name: c.profile.name} )),\n            config: result.config\n          });\n\n          this.props.handlers.updateClientName(client.profile.name);\n        },\n        (error) => {\n          this.setState({\n            isLoaded: false,\n            error\n          });\n        });\n  };\n\n  createClient = (profile) => {\n    var oldClientOptions = this.state.clientOptions;\n    return new Promise((resolve, reject) => {\n      fetch(\"https://api.cooby.co/clients/\", {\n        method: \"POST\",\n        mode: 'cors',\n        headers: requestHeaders(),\n        body: JSON.stringify(profile)\n      }).then(res => res.json())\n        .then(\n          (result) => {\n            console.log(result);\n            let newClientOption = {\n              id: result.id,\n              name: profile.name\n            };\n            let clientOptions = oldClientOptions.concat();\n            this.setState({ clientOptions });\n            resolve(newClientOption);\n          },\n         (error) => {\n           console.log(error);\n           reject(error);\n        }\n       );\n    });\n\n  };\n\n  handleCreateTag = (key) => (newTag) => {\n      let url = \"https://api.cooby.co/\" + key + \"/\";\n      return new Promise((resolve, reject) => {\n        fetch(url, {\n          method: \"POST\",\n          mode: 'cors',\n          headers: requestHeaders(),\n          body: JSON.stringify({name: newTag})\n        }).then(res => res.json())\n          .then(\n            (result) => {\n              var newTagObject = {id: result.id, name: newTag};\n              this.addToConfig(key, newTagObject);\n              resolve(newTagObject);\n            },\n            (error) => {\n              this.setState({error});\n              reject(error);\n            });\n      });\n  }\n\n  handleChange = name => event => {\n    var value = event.target.value;\n    this.setState( state => {\n      var p = state.profile;\n\n      return {\n        profile: {\n          ...p,\n          [name]: value\n        }\n      };\n    });\n\n    var profile = {\n      id: this.state.profile.id,\n      [name]: value\n    }\n\n    // one-way only. doesn't update React data\n    fetch(\"https://api.cooby.co/clients/\" + profile.id, {\n      \"method\": \"PUT\",\n      mode: 'cors',\n      headers: requestHeaders(),\n      body: JSON.stringify(profile)\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          console.log(result);\n    });\n\n    name == 'name' && this.props.handlers.updateClientName(value);\n  };\n\n  addToConfig = (key, item) => {\n    let config = this.state.config;\n    config[key].push(item);\n    this.setState({config: config});\n  }\n\n\n  render() {\n    const {isLoaded, profile, config, clientOptions} = this.state;\n    const {clientId} = this.props;\n\n\n    if (!isLoaded) {\n       return (\n         <Grid container justify=\"center\">\n          <Grid item xs={3}>\n            <div className='m-10'>\n              <Loader />\n            </div>\n          </Grid>\n         </Grid>\n       )\n     } else {\n      return (\n        <div className=\"container-fluid\">\n          <article className=\"article pt-3\">\n            <div className=\"row\">\n              <div className=\"col-xl-6\">\n                <div className=\"box box-default mb-3\">\n                  <div className=\"box-header\">基本資料</div>\n                  <div className=\"box-divider\"></div>\n                  <div className=\"box-body\">\n                    <StyledBasicInfoTextFields\n                      key={clientId}\n                      profile={profile}\n                      config={config}\n                      handleChange={this.handleChange}\n                      addToConfig={this.addToConfig}\n                      handleCreateTag={this.handleCreateTag}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"box box-default mb-3\">\n                  <div className=\"box-header\">保險狀況</div>\n                  <div className=\"box-divider\"></div>\n                  <div className=\"box-body\">\n                    <StyledInsuranceInfoTextFields\n                      key={clientId}\n                      profile={profile}\n                      config={config}\n                      handleChange={this.handleChange}\n                      addToConfig={this.addToConfig}\n                      handleCreateTag={this.handleCreateTag}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"col-xl-6\">\n                <div className=\"box box-default mb-3\">\n                  <div className=\"box-header\">財務規劃</div>\n                  <div className=\"box-divider\"></div>\n                  <div className=\"box-body\">\n                    <StyledFinancialPlanTextFields\n                      key={clientId}\n                      profile={profile}\n                      config={config}\n                      handleChange={this.handleChange}\n                      addToConfig={this.addToConfig}\n                      handleCreateTag={this.handleCreateTag}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"box box-default mb-3\">\n                  <div className=\"box-header\">婚姻與家庭</div>\n                  <div className=\"box-divider\"></div>\n                  <div className=\"box-body\">\n                    <StyledFamilyInfoTextFields\n                      key={clientId}\n                      profile={profile}\n                      config={config}\n                      clientOptions={clientOptions}\n                      handleChange={this.handleChange}\n                      addToConfig={this.addToConfig}\n                      createClient={this.createClient}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"box box-default mb-3\">\n                  <div className=\"box-header\">備註</div>\n                  <div className=\"box-divider\"></div>\n                  <div className=\"box-body\">\n                    <StyledAppendixTextFields\n                      key={clientId}\n                      profile={profile}\n                      config={config}\n                      handleChange={this.handleChange}\n                      addToConfig={this.addToConfig}\n                    />\n                  </div>\n                </div>\n\n              </div>\n            </div>\n          </article>\n        </div>\n      )\n    }\n  }\n}\n\n\nexport default Profile;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Drawer from '@material-ui/core/Drawer';\nimport OutlinedButton from 'components/OutlinedButton';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n  divContainer: {\n    width: 300,\n    padding: theme.spacing.unit*2\n  },\n  textField: {\n    width: '80%',\n  },\n  button: {\n    marginLeft: theme.spacing.unit / 2,\n    marginRight: theme.spacing.unit / 2\n  },\n  drawerActionButtons: {\n    width: 270,\n    position: \"fixed\",\n    bottom: theme.spacing.unit * 2\n  }\n});\n\n\nconst CommonNoteFields = ({note, classes, handleChange}) => (\n  <>\n    <TextField\n      label=\"地點\"\n      className={classes.textField}\n      value={note.location}\n      onChange={handleChange(false, 'location')}\n      margin=\"normal\"\n    />\n    <TextField\n      required\n      id=\"date\"\n      label=\"日期\"\n      InputLabelProps={{ shrink: true }}\n      type='date'\n      value={note.date}\n      className={classes.textField}\n      onChange={handleChange(false, 'date')}\n      margin=\"normal\"\n    />\n    <TextField\n      id=\"appendix\"\n      label=\"備註\"\n      value={note.appendix}\n      variant='outlined'\n      className={classes.textField}\n      onChange={handleChange(false, 'appendix')}\n      margin=\"normal\"\n    />\n  </>\n)\n\n\nconst QuoteNoteFields = ({note, classes, handleChange}) => (\n  <>\n    <div className=\"divider divider-solid border-dark mb-4\"></div>\n    <Typography variant=\"subheading\" gutterBottom>\n      遞送細節\n    </Typography>\n    <TextField\n      id=\"sent_time\"\n      label=\"遞送日期\"\n      type='date'\n      InputLabelProps={{ shrink: true }}\n      value={note.additional_data.sent_time}\n      className={classes.textField}\n      onChange={handleChange(true, 'sent_time')}\n      margin=\"normal\"\n    />\n    <TextField\n      id=\"sent_content\"\n      label=\"遞送內容\"\n      value={note.additional_data.sent_content}\n      className={classes.textField}\n      onChange={handleChange(true, 'sent_content')}\n      margin=\"normal\"\n    />\n  </>\n)\n\n\nconst ClaimNoteFields = ({note, classes, handleChange}) => (\n  <>\n    <div className=\"divider divider-solid border-dark mb-4\"></div>\n    <Typography variant=\"subheading\" gutterBottom>\n      理賠細節\n    </Typography>\n    <TextField\n      id=\"claim_time\"\n      label=\"理賠日期\"\n      type='date'\n      InputLabelProps={{ shrink: true }}\n      value={note.additional_data.claim_time}\n      className={classes.textField}\n      onChange={handleChange(true, 'claim_time')}\n      margin=\"normal\"\n    />\n    <TextField\n      id=\"claim_content\"\n      label=\"理賠內容\"\n      value={note.additional_data.claim_content}\n      className={classes.textField}\n      onChange={handleChange(true, 'claim_content')}\n      margin=\"normal\"\n    />\n  </>\n)\n\nconst SigningNoteFields = ({note, classes, handleChange}) => (\n  <>\n    <div className=\"divider divider-solid border-dark mb-4\"></div>\n    <Typography variant=\"subheading\" gutterBottom>\n      簽約細節\n    </Typography>\n    <TextField\n      id=\"signed_time\"\n      label=\"簽約日期\"\n      InputLabelProps={{ shrink: true }}\n      type='date'\n      value={note.additional_data.signed_time}\n      className={classes.textField}\n      onChange={handleChange(true, 'signed_time')}\n      margin=\"normal\"\n    />\n    <TextField\n      id=\"signed_content\"\n      label=\"簽約內容\"\n      value={note.additional_data.signed_content}\n      className={classes.textField}\n      onChange={handleChange(true, 'signed_content')}\n      margin=\"normal\"\n    />\n  </>\n)\n\n\n\nconst GenericNoteFields = ({note, classes, handleChange}) => (\n  <>\n    <div className=\"divider divider-solid border-dark mb-4\"></div>\n    <TextField\n      id=\"current_insurance\"\n      label=\"保險狀況\"\n      value={note.additional_data.current_insurance}\n      className={classes.textField}\n      onChange={handleChange(true, 'current_insurance')}\n      margin=\"normal\"\n    />\n  </>\n)\n\nconst CustomNoteFields = ({note, classes, handleChange}) => {\n  switch(String(note.note_type)) {\n    case \"1\":\n      return (<GenericNoteFields note={note} classes={classes} handleChange={handleChange} />)\n      break;\n    case \"2\":\n      return (<QuoteNoteFields note={note} classes={classes} handleChange={handleChange} />)\n      break;\n    case \"3\":\n      return (<SigningNoteFields note={note} classes={classes} handleChange={handleChange} />)\n      break;\n    case \"4\":\n      return (<ClaimNoteFields note={note} classes={classes} handleChange={handleChange} />)\n      break;\n    default:\n      // code block\n      return (<></>)\n  }\n}\n\n\n\n\n// Avoid derived state from props:\n// https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html#common-bugs-when-using-derived-state\nclass NoteDrawer extends React.Component {\n  // this needs to be deep copy!\n  state = { note: ({...this.props.note, additional_data: {...this.props.note.additional_data} } || {additional_data: {}}) };\n\n\n  handleChange = (isAdditionalData, name) => event => {\n    var note = this.state.note;\n\n    if (isAdditionalData) {\n      note.additional_data[name] = event.target.value;\n    } else {\n      note[name] = event.target.value;\n    }\n\n    this.setState({ note });\n  };\n\n  handleSave = event => {\n    this.props.handleSaveNote(this.state.note);\n  }\n\n\n  handleDelete = (event) => {\n    event.preventDefault();\n    this.props.handleDeleteNote(this.state.note.id);\n  }\n\n\n  render() {\n    const { note } = this.state;\n    const { mode, classes, isOpen, handleClose, config } = this.props;\n\n    return (\n      <Drawer anchor=\"right\" open={isOpen} onClose={handleClose}>\n          <div className={classes.divContainer}>\n            <Grid container spacing={2} justify=\"center\">\n              <Grid item xs={12}>\n                <Typography variant=\"title\" gutterBottom>\n                  {mode === \"create\" ? \"新增\" : \"編輯\"}{config.note_type[note.note_type]}\n                </Typography>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  label=\"標題\"\n                  className={classes.textField}\n                  InputProps={{\n                    classes: {\n                      input: {fontSize: 50}\n                    }\n                  }}\n                  value={note.title}\n                  onChange={this.handleChange(false, 'title')}\n                  margin=\"normal\"\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <CommonNoteFields note={note} classes={classes} handleChange={this.handleChange} />\n              </Grid>\n              <Grid item xs={12}>\n                <CustomNoteFields note={note} classes={classes} handleChange={this.handleChange} />\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.drawerActionButtons}>\n                  <div className=\"divider divider-solid border-dark\"></div>\n                  <Grid container justify=\"space-between\" alignItems=\"flex-end\">\n                    <Grid item>\n                      {mode === \"edit\" &&\n                        <Button color=\"primary\" onClick={this.handleDelete}>刪除</Button>\n                      }\n                    </Grid>\n                    <Grid item>\n                      <OutlinedButton color=\"secondary\" size=\"medium\" className={classes.button} onClick={handleClose}>取消</OutlinedButton>\n                      <Button variant=\"contained\" color=\"primary\" size=\"medium\" className={classes.button} onClick={this.handleSave}>\n                      儲存</Button>\n                    </Grid>\n                  </Grid>\n                </div>\n              </Grid>\n            </Grid>\n          </div>\n      </Drawer>\n    )\n  };\n}\n\nNoteDrawer.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\n\nconst StyledNoteDrawer = withStyles(styles)(NoteDrawer);\n\nexport default StyledNoteDrawer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport Typography from '@material-ui/core/Typography';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport NoteDrawer from './NoteDrawer';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport {requestHeaders} from 'auth/Auth';\n\n\nconst styles = theme => ({\n  row: {\n    minWidth: 200,\n    maxWidth: 600,\n    margin: theme.spacing.unit\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: '100%',\n  },\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  date: {\n    fontSize: theme.typography.pxToRem(13),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n});\n\n\n\nclass CreateNoteButton extends React.Component {\n  state = {\n    AnchorEl: null\n  }\n\n  handleClick = (event) => {\n    this.setState({anchorEl: event.currentTarget});\n  };\n\n  handleClose = () => {\n    this.setState({anchorEl: null});\n  };\n\n  handleMenuItemClick = (event) => {\n    this.setState({anchorEl: null});\n    this.props.openDrawer({note_type: event.target.value, additional_data: {}});\n  }\n\n  render() {\n    const { anchorEl } = this.state;\n    const { noteTypes } = this.props;\n    return(\n      <>\n        <Button\n          aria-controls=\"simple-menu\"\n          aria-haspopup=\"true\"\n          variant=\"contained\"\n          color=\"primary\"\n          className=\"btn-w-md\"\n          onClick={this.handleClick}>\n          新增會議紀錄\n        </Button>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={this.handleClose}\n        >\n          {Object.keys(noteTypes).map( noteTypeId => (\n            <MenuItem key={noteTypeId} value={noteTypeId} onClick={this.handleMenuItemClick}>\n              {noteTypes[noteTypeId]}\n            </MenuItem>\n          ))}\n        </Menu>\n\n      </>\n    )\n  }\n};\n\n\nconst cardStyles = theme => ({\n  root: {\n    minWidth: 200,\n    maxWidth: 600,\n    margin: theme.spacing.unit\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nconst UnstyledNoteCard = ({title, appendix, date, classes}) => {\n\n  return (\n    <Card className={classes.root}>\n      <CardContent>\n        <Typography className={classes.title} variant=\"subheading\" gutterBottom>\n          {title}\n        </Typography>\n        <Typography className={classes.pos} color=\"textSecondary\">\n          {date}\n        </Typography>\n        <Typography variant=\"body2\" component=\"p\">\n          {appendix}\n        </Typography>\n      </CardContent>\n      <CardActions>\n        <Button size=\"small\">編輯</Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nconst NoteCard = withStyles(cardStyles)(UnstyledNoteCard);\n\n\nclass NoteList extends React.Component {\n  collectionEndpoint = 'https://api.cooby.co/clients/' + this.props.clientId + '/notes/';\n\n  state = {\n    notes: [],\n    mode: 'create',\n    openNoteDrawer: false,\n    selectedNote: {additional_data: {}},\n    config: {note_type: {\n      \"0\":\"空白筆記\",\n      \"1\":\"一般筆記\",\n      \"2\":\"遞送建議書\",\n      \"3\":\"保險簽約\",\n      \"4\":\"保險理賠\"\n    }}\n  }\n\n  componentDidMount() {\n    this.fetchNotes();\n  }\n\n  fetchNotes = () => {\n    fetch(this.collectionEndpoint, {\n      \"method\": \"GET\",\n      mode: 'cors',\n      headers: requestHeaders()\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            notes: result.notes\n          });\n        },\n        (error) => {\n          this.setState({\n            error\n          });\n        }\n      )\n  };\n\n  openDrawer = (mode) => (selectedNote) => {\n    console.log(selectedNote);\n    console.log(mode);\n    this.setState({\n      openNoteDrawer: true,\n      selectedNote: selectedNote,\n      mode: mode,\n      drawerKey: selectedNote.id ? selectedNote.id : Math.random()\n    });\n  }\n\n  handleNoteClick = (selectedNote) => (event) => {\n    console.log(selectedNote);\n    this.openDrawer('edit')(selectedNote);\n  }\n\n  handleClose = () => {\n    this.setState({openNoteDrawer: false});\n  }\n\n  handleDeleteNote = (noteId) => {\n    let url = this.collectionEndpoint + noteId;\n    console.log(url);\n    fetch(url, {\n      \"method\": \"DELETE\",\n      mode: 'cors',\n      headers: requestHeaders(),\n      body: JSON.stringify({})\n    }).then(res => {\n      if (res.ok) {\n        let notes = this.state.notes;\n        let index = notes.findIndex(t => t.id === noteId);\n        notes.splice(index, 1);\n\n        this.setState({\n          notes: notes\n        });\n      } else {\n        res.json().then(error => {console.log(error)});\n        }\n      this.handleClose();\n      });\n  }\n\n  handleSaveNote = (newNote) => {\n    console.log(newNote);\n\n    let endpoint =\n      this.state.mode === \"edit\" ?\n      this.collectionEndpoint + newNote.id :\n      this.collectionEndpoint;\n\n    fetch(endpoint, {\n      method: ( this.state.mode === \"edit\" ? \"put\" : \"post\" ),\n      mode: 'cors',\n      headers: requestHeaders(),\n      body: JSON.stringify(newNote)\n    }).then(res => {\n      if (res.ok && this.state.mode === \"edit\") {\n        // put request returns empty string. can't call res.to_json()\n        console.log('edittttt');\n        return new Promise((resolve, reject) => {resolve({})} );\n      } else {\n        console.log('new!');\n        return res.json();\n      }\n    }).then(\n        (result) => {\n          console.log(result);\n          if (this.state.mode === \"edit\") {\n            // edit mode\n            var index = this.state.notes.findIndex(t => t.id === newNote.id);\n            if (index) {\n                var oldNote = this.state.notes[index];\n                var notes = this.state.notes;\n                notes[index] = {...oldNote, ...newNote};\n                this.setState({notes: notes});\n            }\n          } else {\n            // create mode\n            this.setState({\n              notes: this.state.notes.concat({\n                id: result.id,\n                ...newNote\n              })\n            });\n          }\n          this.handleClose();\n        },\n        (error) => {\n          console.log(error);\n          this.setState({ error });\n        }\n    );\n\n  };\n\n\n  render() {\n    const { notes, selectedNote, mode, openNoteDrawer, config, drawerKey } = this.state;\n    const { classes } = this.props;\n\n    return (\n      <>\n        <NoteDrawer\n          key={drawerKey}\n          isOpen={openNoteDrawer}\n          mode={mode}\n          note={selectedNote}\n          handleClose={this.handleClose}\n          handleSaveNote={this.handleSaveNote}\n          handleDeleteNote={this.handleDeleteNote}\n          config={config} />\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <div className={classes.row}>\n              <CreateNoteButton noteTypes={config.note_type} openDrawer={this.openDrawer('create')}  />\n            </div>\n          </Grid>\n            {\n              notes.map((note, index) => (\n                <Grid item xs={12} key={note.id}>\n                  <NoteCard title={note.title} appendix={note.appendix} date={note.date} />\n                </Grid>\n              ))\n            }\n        </Grid>\n      </>\n    );\n  }\n}\n\nNoteList.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst StyledNoteList = withStyles(styles)(NoteList);\n\nexport default StyledNoteList;\n","import React from 'react';\nimport QueueAnim from 'rc-queue-anim';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport SwipeableViews from 'react-swipeable-views';\nimport Profile from './Profile';\nimport NoteList from './NoteList';\nimport TaskList from '../../task/components/TaskList';\nimport {requestHeaders} from 'auth/Auth';\n\n\nclass Client extends React.Component {\n  constructor(props) {\n    super(props);\n    // get Client ID\n    let clientId = this.props.location.pathname.replace('/app/client/', '');\n\n    this.state = {\n      clientId: clientId,\n      name: null,\n      error: null,\n      isLoaded: false,\n      tabIndex: 0,\n      handlers: {updateClientName: this.updateClientName}\n    }\n  }\n\n  updateClientName = (name) => {\n    // only update client name\n    this.setState({name: name});\n  };\n\n\n  fetchTasks = () => {\n    fetch(\"https://api.cooby.co/clients/\" + this.state.clientId + \"/tasks/\", {\n      \"method\": \"GET\",\n      mode: 'cors',\n      headers: requestHeaders()\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            tasks: result.tasks\n          });\n        },\n        (error) => {\n          this.setState({\n            error\n          });\n        });\n  };\n\n\n  componentDidMount() {\n    this.fetchTasks();\n  }\n\n  handleTabChange = (event, value) => {\n    this.setState({ tabIndex: value });\n  };\n\n  handleChangeIndex = index => {\n    this.setState({ tabIndex: index });\n  };\n\n  render() {\n\n    const { clientId, name, tabIndex, isLoaded, handlers } = this.state;\n\n\n    const NoteTab = () => (\n      <div className=\"container-fluid no-breadcrumb container-mw-md chapter\">\n        <article className=\"article\">\n          <QueueAnim type=\"bottom\" className=\"ui-animate\">\n            <div key=\"1\" className=\"mb-3\"> <NoteList clientId={clientId}/> </div>\n          </QueueAnim>\n        </article>\n      </div>\n    )\n\n    const TaskTab = () => (\n      <div className=\"container-fluid pt-3\">\n        <TaskList clientId={clientId} isUnderClient={true}/>\n      </div>\n    )\n\n    return (\n      <section className=\"page-with-tabs\">\n        <QueueAnim type=\"bottom\" className=\"ui-animate\">\n          <div key=\"1\">\n            <div className=\"page-header-title\"> {name || \"未命名\"} </div>\n          </div>\n\n          <div key=\"2\">\n            <Tabs value={tabIndex} onChange={this.handleTabChange} className=\"page-tabs\">\n              <Tab label=\"基本資料\" />\n              <Tab label=\"會議記錄\" />\n              <Tab label=\"待辦事項\" />\n            </Tabs>\n            <SwipeableViews\n              index={tabIndex}\n              onChangeIndex={this.handleChangeIndex}\n            >\n              <Profile\n                key={clientId + \"-profile\"}\n                clientId={clientId}\n                handlers={handlers}\n              />\n              <NoteTab key={clientId + \"-note\"}/>\n              <TaskTab key={clientId + \"-task\"}/>\n            </SwipeableViews>\n          </div>\n        </QueueAnim>\n      </section>\n    );\n  }\n}\n\nexport default Client;\n","import React from 'react';\nimport MaterialIcon from 'components/MaterialIcon';\n\nconst Statboxes = () => (\n  <div className=\"row\">\n    <div className=\"col-xl-3 col-sm-6\">\n      <section className=\"number-card-v4 mdc-elevation--z1 mb-4\">\n        <div className=\"box-top\">\n          <div className=\"box-icon\">\n            <span className=\"icon-btn icon-btn-round bg-success text-white\">\n              <MaterialIcon icon=\"pageview\" />\n            </span>\n          </div>\n          <div className=\"box-info\">\n            <p className=\"info-desc\">客戶數量</p>\n            <p className=\"box-main-num\">+3</p>\n          </div>\n        </div>\n        <div className=\"box-bottom\">\n          <div className=\"box-left\">\n            <p className=\"info-desc\">Pages/Visit</p>\n            <p className=\"text-success\">8.55</p>\n          </div>\n          <div className=\"box-right\">\n            <p className=\"info-desc\">% New Vist</p>\n            <p className=\"text-success\">56.23%</p>\n          </div>\n        </div>\n      </section>\n    </div>\n    <div className=\"col-xl-3 col-sm-6\">\n      <section className=\"number-card-v4 mdc-elevation--z1 mb-4\">\n        <div className=\"box-top\">\n          <div className=\"box-icon\">\n            <span className=\"icon-btn icon-btn-round bg-info text-white\">\n              <MaterialIcon icon=\"people\" />\n            </span>\n          </div>\n          <div className=\"box-info\">\n            <p className=\"info-desc\">會議數量</p>\n            <p className=\"box-main-num\">+12</p>\n          </div>\n        </div>\n        <div className=\"box-bottom\">\n          <div className=\"box-left\">\n            <p className=\"info-desc\">AVG Visit Duration (s)</p>\n            <p className=\"text-info\">9.60</p>\n          </div>\n        </div>\n      </section>\n    </div>\n    <div className=\"col-xl-3 col-sm-6\">\n      <section className=\"number-card-v4 mdc-elevation--z1 mb-4\">\n        <div className=\"box-top\">\n          <div className=\"box-icon\">\n            <span className=\"icon-btn icon-btn-round bg-warning text-white\">\n              <MaterialIcon icon=\"attach_money\" />\n            </span>\n          </div>\n          <div className=\"box-info\">\n            <p className=\"info-desc\">待辦事項</p>\n            <p className=\"box-main-num\">21個完成</p>\n          </div>\n        </div>\n        <div className=\"box-bottom\">\n          <div className=\"box-left\">\n            <p className=\"info-desc\">Last Week</p>\n            <p className=\"text-warning\">26.80%</p>\n          </div>\n          <div className=\"box-right\">\n            <p className=\"info-desc\">Last Month</p>\n            <p className=\"text-warning\">39.33%</p>\n          </div>\n        </div>\n      </section>\n    </div>\n    <div className=\"col-xl-3 col-sm-6\">\n      <section className=\"number-card-v4 mdc-elevation--z1 mb-4\">\n        <div className=\"box-top\">\n          <div className=\"box-icon\">\n            <span className=\"icon-btn icon-btn-round bg-primary text-white\">\n              <MaterialIcon icon=\"shopping_cart\" />\n            </span>\n          </div>\n          <div className=\"box-info\">\n            <p className=\"info-desc\">下週行程</p>\n            <p className=\"box-main-num\">25.5%</p>\n          </div>\n        </div>\n        <div className=\"box-bottom\">\n          <div className=\"box-left\">\n            <p className=\"info-desc\">Last Week</p>\n            <p className=\"text-primary\">16.50%</p>\n          </div>\n          <div className=\"box-right\">\n            <p className=\"info-desc\">Last Month</p>\n            <p className=\"text-primary\">29.00%</p>\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n);\n\nexport default Statboxes;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Select from '@material-ui/core/Select';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\n\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FilterListIcon from '@material-ui/icons/FilterList';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: 0,\n    minWidth: 150,\n    maxWidth: 600\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: theme.spacing.unit / 4,\n  },\n});\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nclass ClientListFilters extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: props.tags || []\n    };\n  }\n\n  getTagName = id => {\n    return this.props.tagOptions.find(tag => tag.id === id).name;\n  }\n\n  handleDelete = tagId => () => {\n    var newTags = this.state.tags.filter( n => n !== tagId );\n    this.setState({ tags: newTags });\n    this.props.onChange && this.props.onChange({target: {value: newTags }}); // first part is like an if.\n  }\n\n  handleChange = event => {\n    console.log(event.target);\n    this.setState({ tags: event.target.value });\n    this.props.onChange && this.props.onChange(event); // first part is like an if.\n  };\n\n  render() {\n    const { classes, theme, tagOptions, title } = this.props;\n    const {tags} = this.state;\n\n    return (\n      <div className={classes.root}>\n        <FormControl className={classes.formControl}>\n          {title && <InputLabel htmlFor=\"select-multiple-chip\">{title}</InputLabel>}\n          <Select\n            multiple\n            value={tags}\n            onChange={this.handleChange}\n            IconComponent={() => (<span></span>)}\n            input={\n                <Input\n                  id=\"select-multiple-chip\"\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      <FilterListIcon />\n                    </InputAdornment>}\n                />}\n            renderValue={selected => (\n                    <div className={classes.chips}>\n                      {selected.map(tagId => <Chip key={tagId} label={this.getTagName(tagId)} className={classes.chip} onDelete={this.handleDelete(tagId)} />)}\n                    </div>\n                  )}\n            MenuProps={MenuProps}\n          >\n            {tagOptions.map(tag => (\n              <MenuItem\n                key={tag.id}\n                value={tag.id}\n                style={{\n                  fontWeight:\n                    tags.indexOf(tag.id) === undefined\n                      ? theme.typography.fontWeightRegular\n                      : theme.typography.fontWeightMedium,\n                }}\n              >\n                <Checkbox checked={tags.indexOf(tag.id) > -1} />\n                {tag.name}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </div>\n    );\n  }\n}\n\n\nClientListFilters.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nconst ClientListFilters1 = withStyles(styles, { withTheme: true })(ClientListFilters);\n\nexport default ClientListFilters1;\n","import React from 'react';\nimport MaterialIcon from 'components/MaterialIcon';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport { withStyles } from '@material-ui/core/styles';\nimport ClientListFilters from './ClientListFilters';\nimport TableHead from '@material-ui/core/TableHead';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport TextField from '@material-ui/core/TextField';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { Grid } from '@material-ui/core';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\n\nconst columnData = [\n  { id: 'name', numeric: false, disablePadding: true, label: '名字' },\n  { id: 'tags', numeric: false, disablePadding: false, label: '標籤' },\n  { id: 'company', numeric: false, disablePadding: false, label: '任職公司' },\n  { id: 'income', numeric: false, disablePadding: false, label: '收入' },\n  { id: 'num_of_tasks', numeric: false, disablePadding: false, label: '待辦數' },\n  { id: 'num_of_notes', numeric: false, disablePadding: false, label: '筆記數' },\n  { id: 'note_summary', numeric: false, disablePadding: false, label: '筆記摘要' },\n  { id: 'updated', numeric: false, disablePadding: false, label: '更新時間' },\n];\n\nclass EnhancedTableHead extends React.Component {\n  createSortHandler = property => event => {\n    this.props.onRequestSort(event, property);\n  };\n\n  render() {\n    const { onSelectAllClick, order, orderBy, numSelected, rowCount } = this.props;\n\n    return (\n      <TableHead>\n        <TableRow>\n          <TableCell padding=\"checkbox\">\n            <Checkbox\n              indeterminate={numSelected > 0 && numSelected < rowCount}\n              checked={numSelected === rowCount}\n              onChange={onSelectAllClick}\n            />\n          </TableCell>\n          {columnData.map(column => {\n            return (\n              <TableCell\n                key={column.id}\n                numeric={column.numeric}\n                padding={column.disablePadding ? 'none' : 'default'}\n                sortDirection={orderBy === column.id ? order : false}\n              >\n                <Tooltip\n                  title=\"排序\"\n                  placement={column.numeric ? 'bottom-end' : 'bottom-start'}\n                  enterDelay={300}\n                >\n                  <TableSortLabel\n                    active={orderBy === column.id}\n                    direction={order}\n                    onClick={this.createSortHandler(column.id)}\n                  >\n                    {column.label}\n                  </TableSortLabel>\n                </Tooltip>\n              </TableCell>\n            );\n          }, this)}\n        </TableRow>\n      </TableHead>\n    );\n  }\n}\n\nEnhancedTableHead.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.string.isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst toolbarStyles = theme => ({\n  root: {\n    paddingRight: theme.spacing.unit,\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  spacer: {\n    flex: '1 1 100%',\n  },\n  actions: {\n    color: theme.palette.text.secondary,\n    minWidth: 800\n  },\n  title: {\n    flex: '0 0 auto',\n  },\n  searchField: {\n    width: 150\n  }\n});\n\nlet EnhancedTableToolbar = props => {\n  const { classes, numSelected, filters, config, handleDeleteClients, handleQueryChange, handleFilterChange } = props;\n\n  return (\n    <Toolbar\n      className={classNames(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      <div className={classes.title}>\n        {numSelected > 0 ? (\n          <Typography color=\"inherit\" variant=\"subheading\">\n            {numSelected} 個已選擇\n          </Typography>\n        ) : (\n          <Typography variant=\"title\" id=\"tableTitle\">\n            客戶列表\n          </Typography>\n        )}\n      </div>\n      <div className={classes.spacer} />\n      <div className={classes.actions}>\n        {numSelected > 0 ? (\n          <Tooltip title=\"刪除\">\n            <IconButton aria-label=\"Delete\">\n              <DeleteIcon onClick={handleDeleteClients}/>\n            </IconButton>\n          </Tooltip>\n        ) : (\n            <Grid container spacing={2} direction=\"row\">\n              <Grid item xs={6}>\n                <ClientListFilters\n                  className={classes.filterField}\n                  id=\"tag_filter\"\n                  tags={filters}\n                  tagOptions={config.tags || []}\n                  onChange={handleFilterChange}\n                />\n              </Grid>\n              <Grid item xs={6}>\n                <TextField\n                  type=\"search\"\n                  className={classes.searchField}\n                  id=\"search-bar\"\n                  variant=\"outlined\"\n                  placeholder=\"搜尋客戶\"\n                  onChange={handleQueryChange}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n            </Grid>\n        )}\n      </div>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n};\n\nEnhancedTableToolbar = withStyles(toolbarStyles)(EnhancedTableToolbar);\n\nexport {EnhancedTableHead, EnhancedTableToolbar};\n","import React from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport { withStyles } from '@material-ui/core/styles';\nimport OutlinedButton from 'components/OutlinedButton';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n  divContainer: {\n    width: 300,\n    padding: theme.spacing.unit*2\n  },\n  textField: {\n    width: '80%'\n  },\n  button: {\n    marginLeft: theme.spacing.unit / 2,\n    marginRight: theme.spacing.unit / 2\n  },\n  drawerActionButtons: {\n    width: 270,\n    position: \"fixed\",\n    bottom: theme.spacing.unit * 2\n  }\n});\n\nclass ClientDrawer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value\n    });\n  };\n\n  handleSave = (event) => {\n    console.log(this.state);\n    const { email, birthday, company, name } = this.state;\n    this.props.handlers.createClient({\n      name, email, birthday, company\n    });\n    this.props.toggleClientDrawer(false)();\n  };\n\n  toggleDrawer = (isOpen) => () => {\n    this.setState({ isOpen });\n  };\n\n  render() {\n    const { email, birthday, company, name } = this.state;\n    const { classes, isOpen, toggleClientDrawer} = this.props;\n\n    return (\n      <Drawer anchor=\"right\" open={isOpen} onClose={toggleClientDrawer(false)}>\n          <div className={classes.divContainer}>\n            <Grid container spacing={2} justify=\"center\">\n            <Grid item xs={12}>\n              <Typography variant=\"title\" gutterBottom>\n                新增客戶\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                required\n                label=\"姓名\"\n                className={classes.textField}\n                value={name}\n                onChange={this.handleChange('name')}\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                id=\"birthday\"\n                label=\"生日\"\n                value={birthday}\n                className={classes.textField}\n                onChange={this.handleChange('birthday')}\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                id=\"email\"\n                label=\"Email\"\n                type=\"email\"\n                value={email}\n                className={classes.textField}\n                onChange={this.handleChange('email')}\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                id=\"company\"\n                label=\"公司\"\n                value={company}\n                className={classes.textField}\n                onChange={this.handleChange('company')}\n                margin=\"normal\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <div className={classes.drawerActionButtons}>\n                <div className=\"divider divider-solid border-dark mb-4\"></div>\n                <Grid container justify=\"flex-end\">\n                  <Grid item>\n                    <OutlinedButton color=\"secondary\" className={classes.button} onClick={toggleClientDrawer(false)}>取消</OutlinedButton>\n                    <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={this.handleSave}>儲存</Button>\n                  </Grid>\n                </Grid>\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n      </Drawer>\n    )\n  };\n}\n\nexport default withStyles(styles)(ClientDrawer);\n","import React from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = (theme) => ({\n  chip: {\n    margin: theme.spacing.unit,\n  }\n});\n\nfunction Tag({tags, config, classes}) {\n\n  const handleClick = () => {\n\n  }\n\n  const getTagName = (tagId) => {\n    var matches = config.tags.filter(tag => tag.id === tagId);\n    return matches[0]['name'];\n  }\n\n  return (\n      (tags || [] ).map((tagId, i) => (\n        <Chip\n          className={classes.chip}\n          key={i}\n          label={getTagName(tagId)}\n          className=\"table-chip bg-info px-2\"\n          onClick={handleClick}\n        />\n      ))\n  );\n}\n\nexport default withStyles(styles)(Tag);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport {EnhancedTableHead, EnhancedTableToolbar} from './EnhancedTableElements';\nimport ClientDrawer from './ClientDrawer';\nimport Tag from './Tag';\nimport {requestHeaders} from 'auth/Auth';\n\nfunction getClientData(client, field) {\n  if (field === 'num_of_tasks') {\n    return client.profile.tasks && client.profile.tasks.length;\n  } else {\n    return (field in client) ? client[field] : (field in client.profile ? client.profile[field] : null);\n  }\n\n}\n\nfunction getSorting(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => ( getClientData(b, orderBy) < getClientData(a, orderBy) ? -1 : 1)\n    : (a, b) => ( getClientData(a, orderBy) < getClientData(b, orderBy) ? -1 : 1);\n}\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing.unit * 3,\n  },\n  table: {\n    minWidth: 1020,\n  },\n  tableWrapper: {\n    overflowX: 'auto',\n  },\n});\n\n\nclass ClientList extends React.Component {\n  url = \"https://api.cooby.co/clients/\";\n\n  constructor(props) {\n    super(props);\n    console.log(requestHeaders());\n    // handlers\n    const createClient = (profile) => {\n      fetch(this.url, {\n        \"method\": \"POST\",\n        mode: 'cors',\n        headers: requestHeaders(),\n        body: JSON.stringify(profile)\n      }).then(res => res.json())\n        .then(\n          (result) => {\n            console.log(result);\n            this.setState({\n              clients: this.state.clients.concat({\n                note_summary: result.note_summary,\n                profile: {\n                  ...profile,\n                  id: result.id\n                }\n              })\n            });\n          });\n    };\n\n    // state variables\n    this.state = {\n      openClientDrawer: false,\n      // ui state\n      order: 'asc',\n      orderBy: 'name',\n      selected: [],\n      page: 0,\n      rowsPerPage: 10,\n      error: null,\n      isLoaded: false,\n      filters: [],\n      // app data\n      clients: [],\n      filteredClients: [],\n      config: {},\n\n      //handlers\n      handlers: {createClient}\n    };\n  }\n\n\n  componentDidMount() {\n    fetch(this.url, {\n      \"method\": \"GET\",\n      mode: 'cors',\n      headers: requestHeaders()\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            clients: result.clients,\n            unfilteredClients: result.clients,\n            config: result.config\n          });\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n  }\n\n  toggleClientDrawer = (state) => () => {\n    this.setState({openClientDrawer: state});\n  }\n\n\n  handleRequestSort = (event, property) => {\n    const orderBy = property;\n    let order = 'desc';\n\n    if (this.state.orderBy === property && this.state.order === 'desc') {\n      order = 'asc';\n    }\n\n    this.setState({ order, orderBy });\n  };\n\n  handleSelectAllClick = (event, checked) => {\n    if (checked) {\n      this.setState(state => ({ selected: state.clients.map(n => n.profile.id) }));\n      return;\n    }\n    this.setState({ selected: [] });\n  };\n\n  handleClick = (event, id) => {\n    const { selected } = this.state;\n    const selectedIndex = selected.indexOf(id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    this.setState({ selected: newSelected });\n  };\n\n  clientSearchMatch = (query, client) => {\n    let incomeConfig = this.state.config.income || {};\n    // search name, company, note_summary and income\n    let searchFields = [client.profile.name, client.profile.company, client.note_summary, incomeConfig[String(client.profile.income)]];\n    return searchFields.reduce((sum, value) => (\n        sum || (value && value.toLowerCase().includes(query.toLowerCase())) // make sure value isn't null; otherwise .includes breaks.\n    ), false);\n  }\n\n  handleDeleteClients = (event) => {\n\n    var promises = [];\n    this.state.selected.forEach(clientId => {\n      let endpoint = this.url + clientId;\n      promises.push(new Promise((resolve, reject) => {\n        fetch(endpoint, {\n          method: \"DELETE\",\n          mode: 'cors',\n          headers: requestHeaders()\n        }).then(res => {\n          if (res.ok) {\n            resolve(clientId);\n          } else {\n            res.json().then(error => {\n              console.log(error);\n              reject(error);\n            });\n            }\n          });\n      }));\n    });\n\n    Promise.all(promises).then((clientIds) => {\n      let clients = this.state.clients;\n      let selected = this.state.selected;\n      clientIds.forEach((clientId) => {\n        let index = clients.findIndex(c => c.profile.id === clientId);\n        clients.splice(index, 1);\n\n        let selectedIndex = selected.indexOf(clientId);\n        selected.splice(selectedIndex, 1);\n      });\n\n      this.setState({\n        clients: clients,\n        selected: selected\n      });\n    });\n  }\n\n  handleQueryChange = (event) => {\n    console.log(event.target.value);\n    if (event.target.value.length > 0) {\n      this.setState({\n        clients: this.state.unfilteredClients.filter(client => this.clientSearchMatch(event.target.value, client))\n      });\n    } else {\n      this.setState({\n        clients: this.state.unfilteredClients\n      });\n    }\n  }\n\n  clientFilterMatch = (tagIds, client) => {\n    return tagIds.reduce((foundMatch, tagId) => {\n      return foundMatch || client.profile.tags.includes(tagId);\n    }, false);\n  }\n\n  handleFilterChange = (event) => {\n    let tagIds = event.target.value;\n    if (event.target.value.length > 0) {\n      let filteredClients = this.state.unfilteredClients.filter(client => this.clientFilterMatch(tagIds, client));\n      console.log(filteredClients);\n      this.setState({\n        clients: filteredClients\n      });\n    } else {\n      this.setState({\n        clients: this.state.unfilteredClients\n      });\n    }\n  }\n\n  handleChangePage = (event, page) => {\n    this.setState({ page });\n  };\n\n  handleChangeRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value });\n  };\n\n  isSelected = id => this.state.selected.indexOf(id) !== -1;\n\n  render() {\n    const { classes } = this.props;\n    const { clients, order, orderBy, selected, rowsPerPage, page, filters, config, handlers, openClientDrawer } = this.state;\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, clients.length - page * rowsPerPage);\n    console.log(clients[0]);\n    return (\n      <>\n        <Button variant=\"contained\" color=\"primary\" className=\"btn-w-md\" onClick={this.toggleClientDrawer(true)}>\n          新增客戶</Button>\n        <Paper className={classes.root}>\n          <ClientDrawer isOpen={openClientDrawer} toggleClientDrawer={this.toggleClientDrawer} handlers={handlers} />\n          <EnhancedTableToolbar\n            numSelected={selected.length}\n            filters={filters}\n            config={config}\n            handleDeleteClients={this.handleDeleteClients}\n            handleQueryChange={this.handleQueryChange}\n            handleFilterChange={this.handleFilterChange} />\n          <div className={classes.tableWrapper}>\n            <Table className={classes.table} aria-labelledby=\"tableTitle\">\n              <EnhancedTableHead\n                numSelected={selected.length}\n                order={order}\n                orderBy={orderBy}\n                onSelectAllClick={this.handleSelectAllClick}\n                onRequestSort={this.handleRequestSort}\n                rowCount={clients.length}\n              />\n              <TableBody>\n                {clients\n                  .sort(getSorting(order, orderBy))\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                  .map(n => {\n                    const isSelected = this.isSelected(n.profile.id);\n                    return (\n                      <TableRow\n                        hover\n                        onClick={event => this.handleClick(event, n.profile.id)}\n                        role=\"checkbox\"\n                        aria-checked={isSelected}\n                        tabIndex={-1}\n                        key={n.profile.id}\n                        selected={isSelected}\n                      >\n                        <TableCell padding=\"checkbox\">\n                          <Checkbox checked={isSelected} />\n                        </TableCell>\n                        <TableCell component=\"th\" scope=\"row\" padding=\"none\">\n                        <Link to={{\n                            pathname: \"/app/client/\" + n.profile.id,\n                            state: {\n                              client: n,\n                              config: config,\n                              handlers: handlers\n                            }\n                          }} className=\"link-cta link-animated-hover link-hover-v1 text-primary\">{n.profile.name}\n                        </Link></TableCell>\n                        <TableCell>\n                          <Tag tags={n.profile.tags} config={config} handlers={handlers} /></TableCell>\n                        <TableCell>{n.profile.company}</TableCell>\n                        <TableCell>{config.income[n.profile.income]}</TableCell>\n                        <TableCell>{n.profile.tasks.length}</TableCell>\n                        <TableCell>{n.num_of_notes}</TableCell>\n                        <TableCell>{n.note_summary}</TableCell>\n                        <TableCell>{n.profile.updated.substring(0, 10)}</TableCell>\n                      </TableRow>\n                    );\n                  })}\n                {emptyRows > 0 && (\n                  <TableRow style={{ height: 49 * emptyRows }}>\n                    <TableCell colSpan={6} />\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </div>\n          <TablePagination\n            component=\"div\"\n            count={clients.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            labelRowsPerPage=\"每頁數目\"\n            backIconButtonProps={{\n              'aria-label': '上一頁',\n            }}\n            nextIconButtonProps={{\n              'aria-label': '下一頁',\n            }}\n            onChangePage={this.handleChangePage}\n            onChangeRowsPerPage={this.handleChangeRowsPerPage}\n          />\n        </Paper>\n      </>\n    );\n  }\n}\n\nClientList.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst StyledClientList = withStyles(styles)(ClientList);\n\n\n\nexport default withRouter(StyledClientList);\n","import React from 'react';\nimport QueueAnim from 'rc-queue-anim';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom';\nimport Client from './components/Client';\nimport StatBoxes1 from './components/StatBoxes1';\n  import StatBoxes2 from './components/StatBoxes2';\nimport ClientList from './components/ClientList';\nimport './components/styles.scss';\nimport {getAuthfromCookie} from 'auth/Auth';\n\n\n\nexport default class ClientsPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n    if (!getAuthfromCookie()) {\n      console.log('go login');\n      this.props.history.push('/user/login');\n    }\n  }\n\n\n  render() {\n    const { match } = this.props;\n    const { openClientDrawer } = this.state;\n\n    return (\n        <div>\n          <Switch>\n            <Route path={`${match.path}/:clientId`} component={Client} />\n\n            <Route path={match.path}>\n              <div className=\"container-fluid no-breadcrumb page-dashboard\">\n                <QueueAnim type=\"bottom\" className=\"ui-animate\">\n                    <div key=\"1\"><StatBoxes1 /></div>\n                    <div key=\"2\">\n                      <ClientList\n                        toggleClientDrawer={this.toggleClientDrawer}\n                        openClientDrawer={openClientDrawer}/>\n                    </div>\n                  </QueueAnim>\n              </div>\n            </Route>\n          </Switch>\n        </div>\n    );\n  }\n}\n"],"sourceRoot":""}